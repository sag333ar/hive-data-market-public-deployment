var ie=Object.defineProperty;var oe=(n,t,e)=>t in n?ie(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var f=(n,t,e)=>oe(n,typeof t!="symbol"?t+"":t,e);/**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 * modified by @xmcl/bytebuffer
 * And customized for hive-tx and Aioha
 */const w=class w{constructor(t,e,i){f(this,"buffer");f(this,"view");f(this,"offset");f(this,"markedOffset");f(this,"limit");f(this,"littleEndian");f(this,"noAssert");f(this,"writeBytes",this.append);f(this,"writeByte",this.writeInt8);f(this,"writeUInt8",this.writeUint8);f(this,"writeShort",this.writeInt16);f(this,"writeUInt16",this.writeUint16);f(this,"writeUInt32",this.writeUint32);f(this,"writeLong",this.writeInt64);f(this,"writeUInt64",this.writeUint64);f(this,"toArrayBuffer",this.toBuffer);if(typeof t>"u"&&(t=w.DEFAULT_CAPACITY),typeof e>"u"&&(e=w.DEFAULT_ENDIAN),typeof i>"u"&&(i=w.DEFAULT_NOASSERT),!i){if(t=t|0,t<0)throw RangeError("Illegal capacity");e=!!e,i=!!i}this.buffer=t===0?P:new ArrayBuffer(t),this.view=t===0?new DataView(P):new DataView(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=e,this.noAssert=i}writeInt8(t,e){const i=typeof e>"u";if(i&&(e=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;let o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=1,this.view.setInt8(e,t),i&&(this.offset+=1),this}writeUint8(t,e){const i=typeof e>"u";if(i&&(e=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;let o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=1,this.view.setUint8(e,t),i&&(this.offset+=1),this}writeInt16(t,e){const i=typeof e>"u";if(i&&(e=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;let o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=2,this.view.setInt16(e,t,this.littleEndian),i&&(this.offset+=2),this}writeUint16(t,e){const i=typeof e>"u";if(i&&(e=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;let o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=2,this.view.setUint16(e,t,this.littleEndian),i&&(this.offset+=2),this}writeUint32(t,e){const i=typeof e>"u";if(i&&(e=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;let o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=4,this.view.setUint32(e,t,this.littleEndian),i&&(this.offset+=4),this}append(t,e){const i=typeof e>"u";if(i&&(e=this.offset),!this.noAssert){if(typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}t instanceof w||(t=w.wrap(t));const o=t.limit-t.offset;if(o<=0)return this;e+=o;let l=this.buffer.byteLength;return e>l&&this.resize((l*=2)>e?l:e),e-=o,new Uint8Array(this.buffer,e).set(new Uint8Array(t.buffer).subarray(t.offset,t.limit)),t.offset+=o,i&&(this.offset+=o),this}assert(t){return this.noAssert=!t,this}capacity(){return this.buffer.byteLength}clone(t){const e=new w(0,this.littleEndian,this.noAssert);return t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),new Uint8Array(e.buffer).set(this.buffer),e.view=new DataView(e.buffer)):(e.buffer=this.buffer,e.view=this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e}flip(){return this.limit=this.offset,this.offset=0,this}resize(t){if(!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if(t|=0,t<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){const e=new ArrayBuffer(t);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e,this.view=new DataView(e)}return this}slice(t,e){if(typeof t>"u"&&(t=this.offset),typeof e>"u"&&(e=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof e!="number"||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}const i=this.clone();return i.offset=t,i.limit=e,i}writeInt64(t,e){const i=typeof e>"u";if(typeof e>"u"&&(e=this.offset),!this.noAssert){if(typeof t=="number"&&(t=BigInt(t)),typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}typeof t=="number"&&(t=BigInt(t)),e+=8;let o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=8,this.view.setBigInt64(e,t,this.littleEndian),i&&(this.offset+=8),this}writeUint64(t,e){const i=typeof e>"u";if(typeof e>"u"&&(e=this.offset),!this.noAssert){if(typeof t=="number"&&(t=BigInt(t)),typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}typeof t=="number"&&(t=BigInt(t)),e+=8;let o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=8,this.view.setBigUint64(e,t,this.littleEndian),i&&(this.offset+=8),this}toBuffer(t){let e=this.offset,i=this.limit;if(!this.noAssert){if(typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal limit: Not an integer");if(i>>>=0,e<0||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(!t)return e===0&&i===this.buffer.byteLength?this.buffer:this.buffer.slice(e,i);if(e===i)return P;const o=new ArrayBuffer(i-e);return new Uint8Array(o).set(new Uint8Array(this.buffer).subarray(e,i),0),o}writeVarint32(t,e){const i=typeof e>"u";if(i&&(e=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}const o=this.calculateVarint32(t);let l;e+=o;let y=this.buffer.byteLength;for(e>y&&this.resize((y*=2)>e?y:e),e-=o,t>>>=0;t>=128;)l=t&127|128,this.view.setUint8(e++,l),t>>>=7;return this.view.setUint8(e++,t),i?(this.offset=e,this):o}calculateVarint32(t){return t=t>>>0,t<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5}writeVString(t,e){const i=typeof e>"u";if(i&&(e=this.offset),!this.noAssert){if(typeof t!="string")throw TypeError("Illegal str: Not a string");if(typeof e!="number"||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}const o=e,l=_.calculateUTF16asUTF8(Q(t),this.noAssert)[1],y=this.calculateVarint32(l);e+=y+l;let m=this.buffer.byteLength;if(e>m&&this.resize((m*=2)>e?m:e),e-=y+l,e+=this.writeVarint32(l,e),_.encodeUTF16toUTF8(Q(t),(function(v){this.view.setUint8(e++,v)}).bind(this)),e!==o+l+y)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+l+y));return i?(this.offset=e,this):e-o}};f(w,"VERSION","0.0.1"),f(w,"LITTLE_ENDIAN",!0),f(w,"BIG_ENDIAN",!1),f(w,"DEFAULT_CAPACITY",16),f(w,"DEFAULT_ENDIAN",w.BIG_ENDIAN),f(w,"DEFAULT_NOASSERT",!1),f(w,"METRICS_BYTES","b"),f(w,"type",function(){return ArrayBuffer}),f(w,"wrap",function(t,e,i){if(t===null||typeof t!="object")throw TypeError("Illegal buffer");let o;if(t instanceof w)return o=t.clone(),o.markedOffset=-1,o;if(t instanceof Uint8Array)o=new w(0,e,i),t.length>0&&(o.buffer=t.buffer,o.offset=t.byteOffset,o.limit=t.byteOffset+t.byteLength,o.view=new DataView(t.buffer));else if(t instanceof ArrayBuffer)o=new w(0,e,i),t.byteLength>0&&(o.buffer=t,o.offset=0,o.limit=t.byteLength,o.view=t.byteLength>0?new DataView(t):new DataView(P));else if(Object.prototype.toString.call(t)==="[object Array]"){o=new w(t.length,e,i),o.limit=t.length;for(let l=0;l<t.length;++l)o.view.setUint8(l,t[l])}else throw TypeError("Illegal buffer");return o});let C=w;function Q(n){let t=0;return function(){return t<n.length?n.charCodeAt(t++):null}}const P=new ArrayBuffer(0),_={};_.MAX_CODEPOINT=1114111;_.encodeUTF8=function(n,t){let e=null;for(typeof n=="number"&&(e=n,n=function(){return null});e!==null||(e=n())!==null;)e<128?t(e&127):e<2048?(t(e>>6&31|192),t(e&63|128)):e<65536?(t(e>>12&15|224),t(e>>6&63|128),t(e&63|128)):(t(e>>18&7|240),t(e>>12&63|128),t(e>>6&63|128),t(e&63|128)),e=null};_.decodeUTF8=function(n,t){let e,i,o,l;const y=function(m){m=m.slice(0,m.indexOf(null));const v=Error(m.toString());throw v.name="TruncatedError",v.bytes=m,v};for(;(e=n())!==null;)if(!(e&128))t(e);else if((e&224)===192)(i=n())===null&&y([e,i]),t((e&31)<<6|i&63);else if((e&240)===224)((i=n())===null||(o=n())===null)&&y([e,i,o]),t((e&15)<<12|(i&63)<<6|o&63);else if((e&248)===240)((i=n())===null||(o=n())===null||(l=n())===null)&&y([e,i,o,l]),t((e&7)<<18|(i&63)<<12|(o&63)<<6|l&63);else throw RangeError("Illegal starting byte: "+e)};_.UTF16toUTF8=function(n,t){let e,i=null;for(;(e=i!==null?i:n())!==null;){if(e>=55296&&e<=57343&&(i=n())!==null&&i>=56320&&i<=57343){t((e-55296)*1024+i-56320+65536),i=null;continue}t(e)}i!==null&&t(i)};_.UTF8toUTF16=function(n,t){let e=null;for(typeof n=="number"&&(e=n,n=function(){return null});e!==null||(e=n())!==null;)e<=65535?t(e):(e-=65536,t((e>>10)+55296),t(e%1024+56320)),e=null};_.encodeUTF16toUTF8=function(n,t){_.UTF16toUTF8(n,function(e){_.encodeUTF8(e,t)})};_.decodeUTF8toUTF16=function(n,t){_.decodeUTF8(n,function(e){_.UTF8toUTF16(e,t)})};_.calculateCodePoint=function(n){return n<128?1:n<2048?2:n<65536?3:4};_.calculateUTF8=function(n){let t,e=0;for(;(t=n())!==null;)e+=t<128?1:t<2048?2:t<65536?3:4;return e};_.calculateUTF16asUTF8=function(n){let t=0,e=0;return _.UTF16toUTF8(n,function(i){++t,e+=i<128?1:i<2048?2:i<65536?3:4}),[t,e]};function ae(n){if(n.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let c=0;c<t.length;c++)t[c]=255;for(let c=0;c<n.length;c++){const b=n.charAt(c),T=b.charCodeAt(0);if(t[T]!==255)throw new TypeError(b+" is ambiguous");t[T]=c}const e=n.length,i=n.charAt(0),o=Math.log(e)/Math.log(256),l=Math.log(256)/Math.log(e);function y(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let b=0,T=0,U=0;const S=c.length;for(;U!==S&&c[U]===0;)U++,b++;const z=(S-U)*l+1>>>0,I=new Uint8Array(z);for(;U!==S;){let N=c[U],A=0;for(let R=z-1;(N!==0||A<T)&&R!==-1;R--,A++)N+=256*I[R]>>>0,I[R]=N%e>>>0,N=N/e>>>0;if(N!==0)throw new Error("Non-zero carry");T=A,U++}let D=z-T;for(;D!==z&&I[D]===0;)D++;let q=i.repeat(b);for(;D<z;++D)q+=n.charAt(I[D]);return q}function m(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let b=0,T=0,U=0;for(;c[b]===i;)T++,b++;const S=(c.length-b)*o+1>>>0,z=new Uint8Array(S);for(;b<c.length;){const N=c.charCodeAt(b);if(N>255)return;let A=t[N];if(A===255)return;let R=0;for(let B=S-1;(A!==0||R<U)&&B!==-1;B--,R++)A+=e*z[B]>>>0,z[B]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");U=R,b++}let I=S-U;for(;I!==S&&z[I]===0;)I++;const D=new Uint8Array(T+(S-I));let q=T;for(;I!==S;)D[q++]=z[I++];return D}function v(c){const b=m(c);if(b)return b;throw new Error("Non-base"+e+" character")}return{encode:y,decodeUnsafe:m,decode:v}}var se="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const le=ae(se),ce="STM";class M{constructor(t,e=ce){this.key=t,this.prefix=e}static fromString(t){const{key:e,prefix:i}=he(t);return new M(e,i)}static from(t){return t instanceof M?t:M.fromString(t)}}const he=n=>{const t=n.slice(0,3);n=n.slice(3);const e=le.decode(n);return{key:e.subarray(0,e.length-4),prefix:t}},K=n=>{const t=[];for(let e=0;e<n.length;e+=2)t.push(parseInt(n.substr(e,2),16));return new Uint8Array(t)},ee=n=>Array.from(n).map(t=>t.toString(16).padStart(2,"0")).join("");class V{static from(t){return t instanceof V?t:t instanceof Uint8Array?new V(t):typeof t=="string"?new V(K(t)):new V(new Uint8Array(t))}constructor(t){this.buffer=t}toString(t="hex"){return ee(this.buffer)}toJSON(){return this.toString()}}const ue={comment_payout_beneficiaries:0,update_proposal_end_date:1,recurrent_transfer_pair_id:1},fe=n=>{switch(n){case"@@000000021":return 3200000035;case"@@000000013":return 3200000003;case"@@000000037":return 3200000070;default:throw new Error("Invalid NAI")}},d=()=>{throw new Error("Void can not be serialized")},r=(n,t)=>{n.writeVString(t)},te=(n,t)=>{n.writeInt16(t)},G=(n,t)=>{n.writeInt64(t)},re=(n,t)=>{n.writeUint8(t)},E=(n,t)=>{n.writeUint16(t)},g=(n,t)=>{n.writeUint32(t)},X=(n,t)=>{n.writeUint64(t)},L=(n,t)=>{n.writeByte(t?1:0)},Y=n=>(t,e)=>{t.writeVarint32(ue[e.type]),n(t,e.value)},h=(n,t)=>{n.writeInt64(t.amount),n.writeUint32(fe(t.nai))},F=(n,t)=>{n.writeUint32(Math.floor(new Date(t+"Z").getTime()/1e3))},k=(n,t)=>{t===null||typeof t=="string"&&t.slice(-39)==="1111111111111111111111111111111114T1Anm"?n.append(new Uint8Array(33).fill(0)):n.append(M.from(t).key)},j=(n=null)=>(t,e)=>{e=V.from(e);const i=e.buffer.length;if(n){if(i!==n)throw new Error(`Unable to serialize binary. Expected ${n} bytes, got ${i}`)}else t.writeVarint32(i);t.append(e.buffer)},J=j(),$=(n,t)=>(e,i)=>{e.writeVarint32(i.length);for(const[o,l]of i)n(e,o),t(e,l)},u=n=>(t,e)=>{t.writeVarint32(e.length);for(const i of e)n(t,i)},x=n=>(t,e)=>{for(const[i,o]of n)try{o(t,e[i])}catch(l){throw l.message=`${i}: ${l.message}`,l}},O=n=>(t,e)=>{e!==void 0?(t.writeByte(1),n(t,e)):t.writeByte(0)},p=x([["weight_threshold",g],["account_auths",$(r,E)],["key_auths",$(k,E)]]),we=x([["account",r],["weight",E]]),Z=x([["base",h],["quote",h]]),W=x([["previous",j(20)],["timestamp",F],["witness",r],["transaction_merkle_root",j(20)],["extensions",u(d)],["witness_signature",j(65)]]),pe=x([["account_creation_fee",h],["maximum_block_size",g],["hbd_interest_rate",E]]),s=(n,t)=>{const e=x(t);return(i,o)=>{i.writeVarint32(n),e(i,o)}},a={};a.account_create_operation=s(9,[["fee",h],["creator",r],["new_account_name",r],["owner",p],["active",p],["posting",p],["memo_key",k],["json_metadata",r]]);a.account_create_with_delegation_operation=s(41,[["fee",h],["delegation",h],["creator",r],["new_account_name",r],["owner",p],["active",p],["posting",p],["memo_key",k],["json_metadata",r],["extensions",u(d)]]);a.account_update_operation=s(10,[["account",r],["owner",O(p)],["active",O(p)],["posting",O(p)],["memo_key",k],["json_metadata",r]]);a.account_witness_proxy_operation=s(13,[["account",r],["proxy",r]]);a.account_witness_vote_operation=s(12,[["account",r],["witness",r],["approve",L]]);a.cancel_transfer_from_savings_operation=s(34,[["from",r],["request_id",g]]);a.change_recovery_account_operation=s(26,[["account_to_recover",r],["new_recovery_account",r],["extensions",u(d)]]);a.claim_account_operation=s(22,[["creator",r],["fee",h],["extensions",u(d)]]);a.claim_reward_balance_operation=s(39,[["account",r],["reward_hive",h],["reward_hbd",h],["reward_vests",h]]);a.comment_operation=s(1,[["parent_author",r],["parent_permlink",r],["author",r],["permlink",r],["title",r],["body",r],["json_metadata",r]]);a.comment_options_operation=s(19,[["author",r],["permlink",r],["max_accepted_payout",h],["percent_hbd",E],["allow_votes",L],["allow_curation_rewards",L],["extensions",u(Y(x([["beneficiaries",u(we)]])))]]);a.convert_operation=s(8,[["owner",r],["requestid",g],["amount",h]]);a.create_claimed_account_operation=s(23,[["creator",r],["new_account_name",r],["owner",p],["active",p],["posting",p],["memo_key",k],["json_metadata",r],["extensions",u(d)]]);a.custom_operation=s(15,[["required_auths",u(r)],["id",E],["data",J]]);a.custom_binary_operation=s(35,[["required_owner_auths",u(r)],["required_active_auths",u(r)],["required_posting_auths",u(r)],["required_auths",u(p)],["id",r],["data",J]]);a.custom_json_operation=s(18,[["required_auths",u(r)],["required_posting_auths",u(r)],["id",r],["json",r]]);a.decline_voting_rights_operation=s(36,[["account",r],["decline",L]]);a.delegate_vesting_shares_operation=s(40,[["delegator",r],["delegatee",r],["vesting_shares",h]]);a.delete_comment_operation=s(17,[["author",r],["permlink",r]]);a.escrow_approve_operation=s(31,[["from",r],["to",r],["agent",r],["who",r],["escrow_id",g],["approve",L]]);a.escrow_dispute_operation=s(28,[["from",r],["to",r],["agent",r],["who",r],["escrow_id",g]]);a.escrow_release_operation=s(29,[["from",r],["to",r],["agent",r],["who",r],["receiver",r],["escrow_id",g],["hbd_amount",h],["hive_amount",h]]);a.escrow_transfer_operation=s(27,[["from",r],["to",r],["hbd_amount",h],["hive_amount",h],["escrow_id",g],["agent",r],["fee",h],["json_meta",r],["ratification_deadline",F],["escrow_expiration",F]]);a.feed_publish_operation=s(7,[["publisher",r],["exchange_rate",Z]]);a.limit_order_cancel_operation=s(6,[["owner",r],["orderid",g]]);a.limit_order_create_operation=s(5,[["owner",r],["orderid",g],["amount_to_sell",h],["min_to_receive",h],["fill_or_kill",L],["expiration",F]]);a.limit_order_create2_operation=s(21,[["owner",r],["orderid",g],["amount_to_sell",h],["fill_or_kill",L],["exchange_rate",Z],["expiration",F]]);a.recover_account_operation=s(25,[["account_to_recover",r],["new_owner_authority",p],["recent_owner_authority",p],["extensions",u(d)]]);a.report_over_production_operation=s(16,[["reporter",r],["first_block",W],["second_block",W]]);a.request_account_recovery_operation=s(24,[["recovery_account",r],["account_to_recover",r],["new_owner_authority",p],["extensions",u(d)]]);a.reset_account_operation=s(37,[["reset_account",r],["account_to_reset",r],["new_owner_authority",p]]);a.set_reset_account_operation=s(38,[["account",r],["current_reset_account",r],["reset_account",r]]);a.set_withdraw_vesting_route_operation=s(20,[["from_account",r],["to_account",r],["percent",E],["auto_vest",L]]);a.transfer_operation=s(2,[["from",r],["to",r],["amount",h],["memo",r]]);a.transfer_from_savings_operation=s(33,[["from",r],["request_id",g],["to",r],["amount",h],["memo",r]]);a.transfer_to_savings_operation=s(32,[["from",r],["to",r],["amount",h],["memo",r]]);a.transfer_to_vesting_operation=s(3,[["from",r],["to",r],["amount",h]]);a.vote_operation=s(0,[["voter",r],["author",r],["permlink",r],["weight",te]]);a.withdraw_vesting_operation=s(4,[["account",r],["vesting_shares",h]]);a.witness_update_operation=s(11,[["owner",r],["url",r],["block_signing_key",k],["props",pe],["fee",h]]);a.witness_set_properties_operation=s(42,[["owner",r],["props",$(r,J)],["extensions",u(d)]]);a.account_update2_operation=s(43,[["account",r],["owner",O(p)],["active",O(p)],["posting",O(p)],["memo_key",O(k)],["json_metadata",r],["posting_json_metadata",r],["extensions",u(d)]]);a.create_proposal_operation=s(44,[["creator",r],["receiver",r],["start_date",F],["end_date",F],["daily_pay",h],["subject",r],["permlink",r],["extensions",u(d)]]);a.update_proposal_votes_operation=s(45,[["voter",r],["proposal_ids",u(G)],["approve",L],["extensions",u(d)]]);a.remove_proposal_operation=s(46,[["proposal_owner",r],["proposal_ids",u(G)],["extensions",u(d)]]);const _e=x([["end_date",F]]);a.update_proposal_operation=s(47,[["proposal_id",X],["creator",r],["daily_pay",h],["subject",r],["permlink",r],["extensions",u(Y(_e))]]);a.collateralized_convert_operation=s(48,[["owner",r],["requestid",g],["amount",h]]);a.recurrent_transfer_operation=s(49,[["from",r],["to",r],["amount",h],["memo",r],["recurrence",E],["executions",E],["extensions",u(Y(x([["pair_id",re]])))]]);const ne=(n,t)=>{const e=a[t.type];if(!e)throw new Error(`No serializer for operation: ${t.type}`);try{e(n,t.value)}catch(i){throw i.message=`${t.type}: ${i.message}`,i}},ye=x([["ref_block_num",E],["ref_block_prefix",g],["expiration",F],["operations",u(ne)],["extensions",u(r)]]),ge=x([["from",k],["to",k],["nonce",X],["check",g],["encrypted",j()]]),be={Array:u,Asset:h,Authority:p,Binary:j,Boolean:L,Date:F,FlatMap:$,Int16:te,Int64:G,Memo:ge,Object:x,Operation:ne,Optional:O,Price:Z,PublicKey:k,Extension:Y,String:r,Transaction:ye,UInt16:E,UInt32:g,UInt64:X,UInt8:re,Void:d},H=async n=>{const t=await window.crypto.subtle.digest("SHA-256",n);return new Uint8Array(t)},me=K("beeab0de00000000000000000000000000000000000000000000000000000000"),xe=async(n,t=me)=>{const e=new C(C.DEFAULT_CAPACITY,C.LITTLE_ENDIAN),i={...n};try{be.Transaction(e,i)}catch(v){throw new Error("Unable to serialize transaction: "+v)}e.flip();const o=new Uint8Array(e.toBuffer()),l=new Uint8Array([...t,...o]),y=ee(await H(o)).slice(0,40);return{digest:await H(l),txId:y,bin:l}};export{H as sha256,xe as transactionDigest};
