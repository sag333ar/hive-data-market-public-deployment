var Pr=Object.defineProperty;var Dr=(t,e,n)=>e in t?Pr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ve=(t,e,n)=>Dr(t,typeof e!="symbol"?e+"":e,n);import{c as fe,g as Ur}from"./index-D9dwDVFR.js";var jn={},et={};const Qe=2147483648;var K=function(t){if(!Array.isArray(t))throw new Error("Input must be an Array");if(t.length===0)throw new Error("Path must contain at least one level");for(var e=0;e<t.length;e++)if(typeof t[e]!="number")throw new Error("Path element is not a number");this.path=t};K.validatePathArray=function(t){try{return K.fromPathArray(t),!0}catch{return!1}};K.validateString=function(t,e){try{return K.fromString(t,e),!0}catch{return!1}};K.fromPathArray=function(t){return new K(t)};K.fromString=function(t,e){if(/^m\//i.test(t))t=t.slice(2);else if(e)throw new Error("Root element is required");for(var n=t.split("/"),o=new Array(n.length),r=0;r<n.length;r++){var i=/(\d+)([hH\']?)/.exec(n[r]);if(i===null)throw new Error("Invalid input");if(o[r]=parseInt(i[1],10),o[r]>=Qe)throw new Error("Invalid child index");if(i[2]==="h"||i[2]==="H"||i[2]==="'")o[r]+=Qe;else if(i[2].length!=0)throw new Error("Invalid modifier")}return new K(o)};K.prototype.toPathArray=function(){return this.path};K.prototype.toString=function(t,e){for(var n=new Array(this.path.length),o=0;o<this.path.length;o++){var r=this.path[o];r&Qe?n[o]=(r&~Qe)+(e?"h":"'"):n[o]=r}return(t?"":"m/")+n.join("/")};K.prototype.inspect=function(){return"BIPPath <"+this.toString()+">"};var Hr=K;Object.defineProperty(et,"__esModule",{value:!0});et.Path=void 0;const Rr=Hr;class Lr{constructor(e){this.bipArray=Rr.fromString(e).toPathArray()}encode(){const e=Buffer.alloc(1+this.bipArray.length*4);return e.writeInt8(this.bipArray.length),this.bipArray.forEach((n,o)=>{e.writeUInt32BE(n,1+o*4)}),e}get size(){return this.bipArray.length}}et.Path=Lr;var $n={},Fe={},tt={},b={};Object.defineProperty(b,"__esModule",{value:!0});b.OperationEncoder=void 0;class Mr{constructor(e){this.operationId=e}}b.OperationEncoder=Mr;var S={},Fr=on,On=128,jr=-128,$r=Math.pow(2,31);function on(t,e,n){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw on.bytes=0,new RangeError("Could not encode varint");e=e||[],n=n||0;for(var o=n;t>=$r;)e[n++]=t&255|On,t/=128;for(;t&jr;)e[n++]=t&255|On,t>>>=7;return e[n]=t|0,on.bytes=n-o+1,e}var kr=cn,Gr=128,Tn=127;function cn(t,o){var n=0,o=o||0,r=0,i=o,c,d=t.length;do{if(i>=d||r>49)throw cn.bytes=0,new RangeError("Could not decode varint");c=t[i++],n+=r<28?(c&Tn)<<r:(c&Tn)*Math.pow(2,r),r+=7}while(c>=Gr);return cn.bytes=i-o,n}var Wr=Math.pow(2,7),qr=Math.pow(2,14),zr=Math.pow(2,21),Kr=Math.pow(2,28),Yr=Math.pow(2,35),Jr=Math.pow(2,42),Xr=Math.pow(2,49),Zr=Math.pow(2,56),Qr=Math.pow(2,63),eo=function(t){return t<Wr?1:t<qr?2:t<zr?3:t<Kr?4:t<Yr?5:t<Jr?6:t<Xr?7:t<Zr?8:t<Qr?9:10},to={encode:Fr,decode:kr,encodingLength:eo};function no(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var o=0;o<t.length;o++){var r=t.charAt(o),i=r.charCodeAt(0);if(e[i]!==255)throw new TypeError(r+" is ambiguous");e[i]=o}var c=t.length,d=t.charAt(0),u=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function g(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var w=0,I=0,B=0,H=E.length;B!==H&&E[B]===0;)B++,w++;for(var R=(H-B)*h+1>>>0,v=new Uint8Array(R);B!==H;){for(var O=E[B],L=0,$=R-1;(O!==0||L<I)&&$!==-1;$--,L++)O+=256*v[$]>>>0,v[$]=O%c>>>0,O=O/c>>>0;if(O!==0)throw new Error("Non-zero carry");I=L,B++}for(var D=R-I;D!==R&&v[D]===0;)D++;for(var U=d.repeat(w);D<R;++D)U+=t.charAt(v[D]);return U}function l(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;for(var w=0,I=0,B=0;E[w]===d;)I++,w++;for(var H=(E.length-w)*u+1>>>0,R=new Uint8Array(H);E[w];){var v=E.charCodeAt(w);if(v>255)return;var O=e[v];if(O===255)return;for(var L=0,$=H-1;(O!==0||L<B)&&$!==-1;$--,L++)O+=c*R[$]>>>0,R[$]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");B=L,w++}for(var D=H-B;D!==H&&R[D]===0;)D++;for(var U=new Uint8Array(I+(H-D)),G=I;D!==H;)U[G++]=R[D++];return U}function m(E){var w=l(E);if(w)return w;throw new Error("Non-base"+c+" character")}return{encode:g,decodeUnsafe:l,decode:m}}var ro=no;const oo=ro,io="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var co=oo(io),so=fe&&fe.__createBinding||(Object.create?function(t,e,n,o){o===void 0&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){o===void 0&&(o=n),t[o]=e[n]}),ao=fe&&fe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uo=fe&&fe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&so(e,t,n);return ao(e,t),e};Object.defineProperty(S,"__esModule",{value:!0});S.Encoder=void 0;const lo=uo(to),fo=co;class y{}S.Encoder=y;y.precisionTable={HIVE:3,HBD:3,STEEM:3,SBD:3,TBD:3,TESTS:3,VESTS:6};y.encodeOperationType=t=>Buffer.alloc(1,t);y.encodeBoolean=t=>Buffer.from([t?1:0]);y.encodeDateTime=t=>{const e=new Date(t+"Z").getTime()/1e3;return y.encodeUInt32(e)};y.encodeString=t=>t?Buffer.concat([y.encodeVarint32(t.length),Buffer.from(t)]):Buffer.from([0]);y.encodeUInt8=t=>{const e=Buffer.alloc(1);return e.writeUInt8(t),e};y.encodeUInt16=t=>{const e=Buffer.alloc(2);return e.writeUInt16LE(t),e};y.encodeInt16=t=>{const e=Buffer.alloc(2);return e.writeInt16LE(t),e};y.encodeUInt32=t=>{const e=Buffer.alloc(4);return e.writeUInt32LE(t),e};y.encodeUInt64=t=>{const e=Buffer.alloc(8);let n=t.toString(16);for(;n.length<16;)n="0"+n;return e.write(n,0,8,"hex"),e.reverse()};y.encodeVarint32=t=>Buffer.from(lo.encode(t));y.encodeAsset=t=>{const e=Buffer.alloc(16),[n,o]=t.split(" "),r=y.precisionTable[y.convertAssetSybol(o)];let i=Math.round(parseFloat(n)*Math.pow(10,r));y.encodeUInt64(i).copy(e,0),e.writeUInt8(r,8);for(let c=0;c<y.convertAssetSybol(o).length;c++)e.writeUInt8(y.convertAssetSybol(o).charCodeAt(c),9+c);return e};y.Array=(t,e)=>{var n,o;return Buffer.concat([y.encodeVarint32((n=e==null?void 0:e.length)!==null&&n!==void 0?n:0),...(o=e==null?void 0:e.map(t))!==null&&o!==void 0?o:[]])};y.Optional=(t,e)=>e?Buffer.concat([Buffer.from([1]),t(e)]):Buffer.from([0]);y.encodePublicKey=t=>{const e=t.slice(3),n=fo.decode(e);return n.slice(0,n.length-4)};y.encodeAuthorityType=t=>Buffer.concat([y.encodeUInt32(t.weight_threshold),y.Array(e=>Buffer.concat([y.encodeString(e[0]),y.encodeUInt16(e[1])]),t.account_auths),y.Array(e=>Buffer.concat([y.encodePublicKey(e[0]),y.encodeUInt16(e[1])]),t.key_auths)]);y.encodeEmpty=()=>{throw new Error("This field is not supported yet.")};y.convertAssetSybol=t=>{switch(t){case"HIVE":return"STEEM";case"HBD":return"SBD";default:return t}};var x={};Object.defineProperty(x,"__esModule",{value:!0});x.Validator=void 0;const ho=127;class te{}x.Validator=te;te.validateString=t=>t.length<=ho;te.validateAuthorityType=t=>{if(!t)return!0;const e=t.account_auths.map(r=>`[ ${r[0]}, ${r[1]} ]`).join(", "),n=t.key_auths.map(r=>`[ ${r[0]}, ${r[1]} ]`).join(", "),o=`Weight: ${t.weight_threshold}, [ ${e} ], [ ${n} ]`;return te.validateString(o)};te.validateArrayOfStrings=t=>{const e=`[ ${t.join(", ")} ]`;return te.validateString(e)};te.validateArrayOfUInt64=t=>{const e=`[ ${t.join(", ")} ]`;return te.validateString(e)};te.validateBeneficiaries=t=>{const e=`Beneficiaries: [ ${t.map(n=>`[ ${n.account}, ${(n.weight/100).toFixed(2)}% ]`).join(", ")} ]`;return te.validateString(e)};Object.defineProperty(tt,"__esModule",{value:!0});tt.Vote=void 0;const po=b,Ve=S,Ft=x;class _o extends po.OperationEncoder{encode(e){return Buffer.concat([Ve.Encoder.encodeOperationType(this.operationId),Ve.Encoder.encodeString(e.voter),Ve.Encoder.encodeString(e.author),Ve.Encoder.encodeString(e.permlink),Ve.Encoder.encodeInt16(e.weight)])}validate(e){return Ft.Validator.validateString(e.voter)&&Ft.Validator.validateString(e.author)&&Ft.Validator.validateString(e.permlink)}}tt.Vote=_o;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.Transfer=void 0;const Eo=b,Ne=S,jt=x;class go extends Eo.OperationEncoder{encode(e){return Buffer.concat([Ne.Encoder.encodeOperationType(this.operationId),Ne.Encoder.encodeString(e.from),Ne.Encoder.encodeString(e.to),Ne.Encoder.encodeAsset(e.amount),Ne.Encoder.encodeString(e.memo)])}validate(e){return jt.Validator.validateString(e.from)&&jt.Validator.validateString(e.to)&&jt.Validator.validateString(e.memo)}}nt.Transfer=go;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.Comment=void 0;const vo=b,ce=S,he=x;class So extends vo.OperationEncoder{encode(e){return Buffer.concat([ce.Encoder.encodeOperationType(this.operationId),ce.Encoder.encodeString(e.parent_author),ce.Encoder.encodeString(e.parent_permlink),ce.Encoder.encodeString(e.author),ce.Encoder.encodeString(e.permlink),ce.Encoder.encodeString(e.title),ce.Encoder.encodeString(e.body),ce.Encoder.encodeString(e.json_metadata)])}validate(e){return he.Validator.validateString(e.parent_author)&&he.Validator.validateString(e.parent_permlink)&&he.Validator.validateString(e.author)&&he.Validator.validateString(e.permlink)&&he.Validator.validateString(e.title)&&he.Validator.validateString(e.body)&&he.Validator.validateString(e.json_metadata)}}rt.Comment=So;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.AccountWitnessVote=void 0;const Ao=b,$e=S,In=x;class bo extends Ao.OperationEncoder{encode(e){return Buffer.concat([$e.Encoder.encodeOperationType(this.operationId),$e.Encoder.encodeString(e.account),$e.Encoder.encodeString(e.witness),$e.Encoder.encodeBoolean(e.approve)])}validate(e){return In.Validator.validateString(e.account)&&In.Validator.validateString(e.witness)}}ot.AccountWitnessVote=bo;var it={};Object.defineProperty(it,"__esModule",{value:!0});it.AccountWitnessProxy=void 0;const xo=b,$t=S,Bn=x;class yo extends xo.OperationEncoder{encode(e){return Buffer.concat([$t.Encoder.encodeOperationType(this.operationId),$t.Encoder.encodeString(e.account),$t.Encoder.encodeString(e.proxy)])}validate(e){return Bn.Validator.validateString(e.account)&&Bn.Validator.validateString(e.proxy)}}it.AccountWitnessProxy=yo;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.ChangeRecoveryAccount=void 0;const mo=b,Pe=S,Cn=x;class wo extends mo.OperationEncoder{encode(e){return Buffer.concat([Pe.Encoder.encodeOperationType(this.operationId),Pe.Encoder.encodeString(e.account_to_recover),Pe.Encoder.encodeString(e.new_recovery_account),Pe.Encoder.Array(Pe.Encoder.encodeEmpty,e.extensions)])}validate(e){return Cn.Validator.validateString(e.account_to_recover)&&Cn.Validator.validateString(e.new_recovery_account)}}ct.ChangeRecoveryAccount=wo;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.TransferFromSavings=void 0;const Oo=b,Se=S,kt=x;class To extends Oo.OperationEncoder{encode(e){return Buffer.concat([Se.Encoder.encodeOperationType(this.operationId),Se.Encoder.encodeString(e.from),Se.Encoder.encodeUInt32(e.request_id),Se.Encoder.encodeString(e.to),Se.Encoder.encodeAsset(e.amount),Se.Encoder.encodeString(e.memo)])}validate(e){return kt.Validator.validateString(e.from)&&kt.Validator.validateString(e.to)&&kt.Validator.validateString(e.memo)}}st.TransferFromSavings=To;var at={};Object.defineProperty(at,"__esModule",{value:!0});at.CancelTransferFromSavings=void 0;const Io=b,Gt=S,Bo=x;class Co extends Io.OperationEncoder{encode(e){return Buffer.concat([Gt.Encoder.encodeOperationType(this.operationId),Gt.Encoder.encodeString(e.from),Gt.Encoder.encodeUInt32(e.request_id)])}validate(e){return Bo.Validator.validateString(e.from)}}at.CancelTransferFromSavings=Co;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.TransferToVesting=void 0;const Vo=b,ke=S,Vn=x;class No extends Vo.OperationEncoder{encode(e){return Buffer.concat([ke.Encoder.encodeOperationType(this.operationId),ke.Encoder.encodeString(e.from),ke.Encoder.encodeString(e.to),ke.Encoder.encodeAsset(e.amount)])}validate(e){return Vn.Validator.validateString(e.from)&&Vn.Validator.validateString(e.to)}}dt.TransferToVesting=No;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.WithdrawVesting=void 0;const Po=b,Wt=S,Do=x;class Uo extends Po.OperationEncoder{encode(e){return Buffer.concat([Wt.Encoder.encodeOperationType(this.operationId),Wt.Encoder.encodeString(e.account),Wt.Encoder.encodeAsset(e.vesting_shares)])}validate(e){return Do.Validator.validateString(e.account)}}ut.WithdrawVesting=Uo;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.SetWithdrawVestingRoute=void 0;const Ho=b,De=S,Nn=x;class Ro extends Ho.OperationEncoder{encode(e){return Buffer.concat([De.Encoder.encodeOperationType(this.operationId),De.Encoder.encodeString(e.from_account),De.Encoder.encodeString(e.to_account),De.Encoder.encodeUInt16(Number(e.percent)),De.Encoder.encodeBoolean(e.auto_vest)])}validate(e){return Nn.Validator.validateString(e.from_account)&&Nn.Validator.validateString(e.to_account)}}lt.SetWithdrawVestingRoute=Ro;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.ClaimAccount=void 0;const Lo=b,Ue=S,Mo=x;class Fo extends Lo.OperationEncoder{encode(e){return Buffer.concat([Ue.Encoder.encodeOperationType(this.operationId),Ue.Encoder.encodeString(e.creator),Ue.Encoder.encodeAsset(e.fee),Ue.Encoder.Array(Ue.Encoder.encodeEmpty,e.extensions)])}validate(e){return Mo.Validator.validateString(e.creator)}}ft.ClaimAccount=Fo;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.CreateClaimedAccount=void 0;const jo=b,X=S,Ae=x;class $o extends jo.OperationEncoder{encode(e){return Buffer.concat([X.Encoder.encodeOperationType(this.operationId),X.Encoder.encodeString(e.creator),X.Encoder.encodeString(e.new_account_name),X.Encoder.encodeAuthorityType(e.owner),X.Encoder.encodeAuthorityType(e.active),X.Encoder.encodeAuthorityType(e.posting),X.Encoder.encodePublicKey(e.memo_key),X.Encoder.encodeString(e.json_metadata),X.Encoder.Array(X.Encoder.encodeEmpty,e.extensions)])}validate(e){return Ae.Validator.validateString(e.creator)&&Ae.Validator.validateString(e.new_account_name)&&Ae.Validator.validateAuthorityType(e.owner)&&Ae.Validator.validateAuthorityType(e.active)&&Ae.Validator.validateAuthorityType(e.posting)&&Ae.Validator.validateString(e.json_metadata)}}ht.CreateClaimedAccount=$o;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.LimitOrderCreate=void 0;const ko=b,pe=S,Go=x;class Wo extends ko.OperationEncoder{encode(e){return Buffer.concat([pe.Encoder.encodeOperationType(this.operationId),pe.Encoder.encodeString(e.owner),pe.Encoder.encodeUInt32(e.orderid),pe.Encoder.encodeAsset(e.amount_to_sell),pe.Encoder.encodeAsset(e.min_to_receive),pe.Encoder.encodeBoolean(e.fill_or_kill),pe.Encoder.encodeDateTime(e.expiration)])}validate(e){return Go.Validator.validateString(e.owner)}}pt.LimitOrderCreate=Wo;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.LimitOrderCancel=void 0;const qo=b,qt=S,zo=x;class Ko extends qo.OperationEncoder{encode(e){return Buffer.concat([qt.Encoder.encodeOperationType(this.operationId),qt.Encoder.encodeString(e.owner),qt.Encoder.encodeUInt32(e.orderid)])}validate(e){return zo.Validator.validateString(e.owner)}}_t.LimitOrderCancel=Ko;var Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.FeedPublish=void 0;const Yo=b,Ge=S,Jo=x;class Xo extends Yo.OperationEncoder{encode(e){return Buffer.concat([Ge.Encoder.encodeOperationType(this.operationId),Ge.Encoder.encodeString(e.publisher),Ge.Encoder.encodeAsset(e.exchange_rate.base),Ge.Encoder.encodeAsset(e.exchange_rate.quote)])}validate(e){return Jo.Validator.validateString(e.publisher)}}Et.FeedPublish=Xo;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.Convert=void 0;const Zo=b,We=S,Qo=x;class ei extends Zo.OperationEncoder{encode(e){return Buffer.concat([We.Encoder.encodeOperationType(this.operationId),We.Encoder.encodeString(e.owner),We.Encoder.encodeUInt32(e.requestid),We.Encoder.encodeAsset(e.amount)])}validate(e){return Qo.Validator.validateString(e.owner)}}gt.Convert=ei;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.AccountCreate=void 0;const ti=b,re=S,be=x;class ni extends ti.OperationEncoder{encode(e){return Buffer.concat([re.Encoder.encodeOperationType(this.operationId),re.Encoder.encodeAsset(e.fee),re.Encoder.encodeString(e.creator),re.Encoder.encodeString(e.new_account_name),re.Encoder.encodeAuthorityType(e.owner),re.Encoder.encodeAuthorityType(e.active),re.Encoder.encodeAuthorityType(e.posting),re.Encoder.encodePublicKey(e.memo_key),re.Encoder.encodeString(e.json_metadata)])}validate(e){return be.Validator.validateString(e.creator)&&be.Validator.validateString(e.new_account_name)&&be.Validator.validateAuthorityType(e.owner)&&be.Validator.validateAuthorityType(e.active)&&be.Validator.validateAuthorityType(e.posting)&&be.Validator.validateString(e.json_metadata)}}vt.AccountCreate=ni;var St={};Object.defineProperty(St,"__esModule",{value:!0});St.AccountUpdate=void 0;const ri=b,Z=S,He=x;class oi extends ri.OperationEncoder{encode(e){return Buffer.concat([Z.Encoder.encodeOperationType(this.operationId),Z.Encoder.encodeString(e.account),Z.Encoder.Optional(Z.Encoder.encodeAuthorityType,e.owner),Z.Encoder.Optional(Z.Encoder.encodeAuthorityType,e.active),Z.Encoder.Optional(Z.Encoder.encodeAuthorityType,e.posting),Z.Encoder.encodePublicKey(e.memo_key),Z.Encoder.encodeString(e.json_metadata)])}validate(e){return He.Validator.validateString(e.account)&&He.Validator.validateString(e.json_metadata)&&He.Validator.validateAuthorityType(e.owner)&&He.Validator.validateAuthorityType(e.active)&&He.Validator.validateAuthorityType(e.posting)}}St.AccountUpdate=oi;var At={};Object.defineProperty(At,"__esModule",{value:!0});At.WitnessUpdate=void 0;const ii=b,se=S,Pn=x;class ci extends ii.OperationEncoder{encode(e){return Buffer.concat([se.Encoder.encodeOperationType(this.operationId),se.Encoder.encodeString(e.owner),se.Encoder.encodeString(e.url),se.Encoder.encodePublicKey(e.block_signing_key),se.Encoder.encodeAsset(e.props.account_creation_fee),se.Encoder.encodeUInt32(e.props.maximum_block_size),se.Encoder.encodeUInt16(e.props.hbd_interest_rate),se.Encoder.encodeAsset(e.fee)])}validate(e){return Pn.Validator.validateString(e.owner)&&Pn.Validator.validateString(e.url)}}At.WitnessUpdate=ci;var bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.DeleteComment=void 0;const si=b,zt=S,Dn=x;class ai extends si.OperationEncoder{encode(e){return Buffer.concat([zt.Encoder.encodeOperationType(this.operationId),zt.Encoder.encodeString(e.author),zt.Encoder.encodeString(e.permlink)])}validate(e){return Dn.Validator.validateString(e.author)&&Dn.Validator.validateString(e.permlink)}}bt.DeleteComment=ai;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.RemoveProposal=void 0;const di=b,xe=S,Un=x;class ui extends di.OperationEncoder{encode(e){return Buffer.concat([xe.Encoder.encodeOperationType(this.operationId),xe.Encoder.encodeString(e.proposal_owner),xe.Encoder.Array(xe.Encoder.encodeUInt64,e.proposal_ids),xe.Encoder.Array(xe.Encoder.encodeEmpty,e.extensions)])}validate(e){return Un.Validator.validateString(e.proposal_owner)&&Un.Validator.validateArrayOfUInt64(e.proposal_ids)}}xt.RemoveProposal=ui;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.DeclineVotingRights=void 0;const li=b,Kt=S,fi=x;class hi extends li.OperationEncoder{encode(e){return Buffer.concat([Kt.Encoder.encodeOperationType(this.operationId),Kt.Encoder.encodeString(e.account),Kt.Encoder.encodeBoolean(e.decline)])}validate(e){return fi.Validator.validateString(e.account)}}yt.DeclineVotingRights=hi;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.ResetAccount=void 0;const pi=b,qe=S,Yt=x;class _i extends pi.OperationEncoder{encode(e){return Buffer.concat([qe.Encoder.encodeOperationType(this.operationId),qe.Encoder.encodeString(e.reset_account),qe.Encoder.encodeString(e.account_to_reset),qe.Encoder.encodeAuthorityType(e.new_owner_authority)])}validate(e){return Yt.Validator.validateString(e.reset_account)&&Yt.Validator.validateString(e.account_to_reset)&&Yt.Validator.validateAuthorityType(e.new_owner_authority)}}mt.ResetAccount=_i;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.SetResetAccount=void 0;const Ei=b,ze=S,Jt=x;class gi extends Ei.OperationEncoder{encode(e){return Buffer.concat([ze.Encoder.encodeOperationType(this.operationId),ze.Encoder.encodeString(e.account),ze.Encoder.encodeString(e.current_reset_account),ze.Encoder.encodeString(e.reset_account)])}validate(e){return Jt.Validator.validateString(e.account)&&Jt.Validator.validateString(e.current_reset_account)&&Jt.Validator.validateString(e.reset_account)}}wt.SetResetAccount=gi;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.RequestAccountRecovery=void 0;const vi=b,ye=S,Xt=x;class Si extends vi.OperationEncoder{encode(e){return Buffer.concat([ye.Encoder.encodeOperationType(this.operationId),ye.Encoder.encodeString(e.recovery_account),ye.Encoder.encodeString(e.account_to_recover),ye.Encoder.encodeAuthorityType(e.new_owner_authority),ye.Encoder.Array(ye.Encoder.encodeEmpty,e.extensions)])}validate(e){return Xt.Validator.validateString(e.recovery_account)&&Xt.Validator.validateString(e.account_to_recover)&&Xt.Validator.validateAuthorityType(e.new_owner_authority)}}Ot.RequestAccountRecovery=Si;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.CustomJson=void 0;const Ai=b,_e=S,Ke=x;class bi extends Ai.OperationEncoder{encode(e){return Buffer.concat([_e.Encoder.encodeOperationType(this.operationId),_e.Encoder.Array(_e.Encoder.encodeString,e.required_auths),_e.Encoder.Array(_e.Encoder.encodeString,e.required_posting_auths),_e.Encoder.encodeString(e.id),_e.Encoder.encodeString(e.json)])}validate(e){return Ke.Validator.validateArrayOfStrings(e.required_auths)&&Ke.Validator.validateArrayOfStrings(e.required_posting_auths)&&Ke.Validator.validateString(e.id)&&Ke.Validator.validateString(e.json)}}Tt.CustomJson=bi;var It={};Object.defineProperty(It,"__esModule",{value:!0});It.RecoverAccount=void 0;const xi=b,me=S,Zt=x;class yi extends xi.OperationEncoder{encode(e){return Buffer.concat([me.Encoder.encodeOperationType(this.operationId),me.Encoder.encodeString(e.account_to_recover),me.Encoder.encodeAuthorityType(e.new_owner_authority),me.Encoder.encodeAuthorityType(e.recent_owner_authority),me.Encoder.Array(me.Encoder.encodeEmpty,e.extensions)])}validate(e){return Zt.Validator.validateString(e.account_to_recover)&&Zt.Validator.validateAuthorityType(e.new_owner_authority)&&Zt.Validator.validateAuthorityType(e.recent_owner_authority)}}It.RecoverAccount=yi;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.ClaimRewardBalance=void 0;const mi=b,Re=S,wi=x;class Oi extends mi.OperationEncoder{encode(e){return Buffer.concat([Re.Encoder.encodeOperationType(this.operationId),Re.Encoder.encodeString(e.account),Re.Encoder.encodeAsset(e.reward_hive),Re.Encoder.encodeAsset(e.reward_hbd),Re.Encoder.encodeAsset(e.reward_vests)])}validate(e){return wi.Validator.validateString(e.account)}}Bt.ClaimRewardBalance=Oi;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.DelegateVestingShares=void 0;const Ti=b,Ye=S,Hn=x;class Ii extends Ti.OperationEncoder{encode(e){return Buffer.concat([Ye.Encoder.encodeOperationType(this.operationId),Ye.Encoder.encodeString(e.delegator),Ye.Encoder.encodeString(e.delegatee),Ye.Encoder.encodeAsset(e.vesting_shares)])}validate(e){return Hn.Validator.validateString(e.delegator)&&Hn.Validator.validateString(e.delegatee)}}Ct.DelegateVestingShares=Ii;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.CreateProposal=void 0;const Bi=b,Q=S,Je=x;class Ci extends Bi.OperationEncoder{encode(e){return Buffer.concat([Q.Encoder.encodeOperationType(this.operationId),Q.Encoder.encodeString(e.creator),Q.Encoder.encodeString(e.receiver),Q.Encoder.encodeDateTime(e.start_date),Q.Encoder.encodeDateTime(e.end_date),Q.Encoder.encodeAsset(e.daily_pay),Q.Encoder.encodeString(e.subject),Q.Encoder.encodeString(e.permlink),Q.Encoder.Array(Q.Encoder.encodeEmpty,e.extensions)])}validate(e){return Je.Validator.validateString(e.creator)&&Je.Validator.validateString(e.receiver)&&Je.Validator.validateString(e.subject)&&Je.Validator.validateString(e.permlink)}}Vt.CreateProposal=Ci;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.UpdateProposalVotes=void 0;const Vi=b,Ee=S,Rn=x;class Ni extends Vi.OperationEncoder{encode(e){return Buffer.concat([Ee.Encoder.encodeOperationType(this.operationId),Ee.Encoder.encodeString(e.voter),Ee.Encoder.Array(Ee.Encoder.encodeUInt64,e.proposal_ids),Ee.Encoder.encodeBoolean(e.approve),Ee.Encoder.Array(Ee.Encoder.encodeEmpty,e.extensions)])}validate(e){return Rn.Validator.validateString(e.voter)&&Rn.Validator.validateArrayOfUInt64(e.proposal_ids)}}Nt.UpdateProposalVotes=Ni;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.CommentOptions=void 0;const Pi=b,q=S,Qt=x;class Di extends Pi.OperationEncoder{constructor(){super(...arguments),this.encodeExtensions=e=>{if(!e||e.length===0)return Buffer.from([e?e.length:[].length]);if(e[0][0]!==0)throw new Error("Unsupported extension type");return Buffer.concat([q.Encoder.encodeVarint32(e.length),q.Encoder.encodeVarint32(e[0][0]),q.Encoder.Array(this.encodeBeneficiary,e[0][1].beneficiaries)])},this.encodeBeneficiary=e=>Buffer.concat([q.Encoder.encodeString(e.account),q.Encoder.encodeUInt16(e.weight)])}encode(e){return Buffer.concat([q.Encoder.encodeOperationType(this.operationId),q.Encoder.encodeString(e.author),q.Encoder.encodeString(e.permlink),q.Encoder.encodeAsset(e.max_accepted_payout),q.Encoder.encodeUInt16(e.percent_hbd),q.Encoder.encodeBoolean(e.allow_votes),q.Encoder.encodeBoolean(e.allow_curation_rewards),this.encodeExtensions(e.extensions)])}validate(e){let n=Qt.Validator.validateString(e.author)&&Qt.Validator.validateString(e.permlink);return e.extensions&&e.extensions.length>0&&(n=n&&Qt.Validator.validateBeneficiaries(e.extensions[0][1].beneficiaries)),n}}Pt.CommentOptions=Di;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.RecurrentTransfer=void 0;const Ui=b,oe=S,en=x;class Hi extends Ui.OperationEncoder{encode(e){return Buffer.concat([oe.Encoder.encodeOperationType(this.operationId),oe.Encoder.encodeString(e.from),oe.Encoder.encodeString(e.to),oe.Encoder.encodeAsset(e.amount),oe.Encoder.encodeString(e.memo),oe.Encoder.encodeUInt16(e.recurrence),oe.Encoder.encodeUInt16(e.executions),oe.Encoder.Array(oe.Encoder.encodeEmpty,e.extensions)])}validate(e){return en.Validator.validateString(e.from)&&en.Validator.validateString(e.to)&&en.Validator.validateString(e.memo)}}Dt.RecurrentTransfer=Hi;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.CollateralizedConvert=void 0;const Ri=b,Xe=S,Li=x;class Mi extends Ri.OperationEncoder{encode(e){return Buffer.concat([Xe.Encoder.encodeOperationType(this.operationId),Xe.Encoder.encodeString(e.owner),Xe.Encoder.encodeUInt32(e.requestid),Xe.Encoder.encodeAsset(e.amount)])}validate(e){return Li.Validator.validateString(e.owner)}}Ut.CollateralizedConvert=Mi;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.UpdateProposal=void 0;const Fi=b,ie=S,tn=x;class ji extends Fi.OperationEncoder{constructor(){super(...arguments),this.encodeExtensions=e=>{if(!e||e.length===0)return Buffer.from([e?e.length:[].length]);if(e[0][0]!==1)throw new Error("Unsupported extension type");return Buffer.concat([ie.Encoder.encodeUInt8(e.length),ie.Encoder.encodeUInt8(e[0][0]),ie.Encoder.encodeDateTime(e[0][1].end_date)])}}encode(e){return Buffer.concat([ie.Encoder.encodeOperationType(this.operationId),ie.Encoder.encodeUInt64(e.proposal_id),ie.Encoder.encodeString(e.creator),ie.Encoder.encodeAsset(e.daily_pay),ie.Encoder.encodeString(e.subject),ie.Encoder.encodeString(e.permlink),this.encodeExtensions(e.extensions)])}validate(e){return tn.Validator.validateString(e.creator)&&tn.Validator.validateString(e.subject)&&tn.Validator.validateString(e.permlink)}}Ht.UpdateProposal=ji;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.ParsedOperation=void 0;const $i=tt,Ln=nt,ki=rt,Gi=ot,Wi=it,qi=ct,zi=st,Ki=at,Yi=dt,Ji=ut,Xi=lt,Zi=ft,Qi=ht,ec=pt,tc=_t,nc=Et,rc=gt,oc=vt,ic=St,cc=At,sc=bt,ac=xt,dc=yt,uc=mt,lc=wt,fc=Ot,hc=Tt,pc=It,_c=Bt,Ec=Ct,gc=Vt,vc=Nt,Sc=Pt,Ac=Dt,bc=Ut,xc=Ht;class we{}Fe.ParsedOperation=we;we.encodersMap=new Map([["vote",new $i.Vote(0)],["comment",new ki.Comment(1)],["transfer",new Ln.Transfer(2)],["transfer_to_vesting",new Yi.TransferToVesting(3)],["withdraw_vesting",new Ji.WithdrawVesting(4)],["limit_order_create",new ec.LimitOrderCreate(5)],["limit_order_cancel",new tc.LimitOrderCancel(6)],["feed_publish",new nc.FeedPublish(7)],["convert",new rc.Convert(8)],["account_create",new oc.AccountCreate(9)],["account_update",new ic.AccountUpdate(10)],["witness_update",new cc.WitnessUpdate(11)],["account_witness_vote",new Gi.AccountWitnessVote(12)],["account_witness_proxy",new Wi.AccountWitnessProxy(13)],["delete_comment",new sc.DeleteComment(17)],["custom_json",new hc.CustomJson(18)],["comment_options",new Sc.CommentOptions(19)],["set_withdraw_vesting_route",new Xi.SetWithdrawVestingRoute(20)],["claim_account",new Zi.ClaimAccount(22)],["create_claimed_account",new Qi.CreateClaimedAccount(23)],["request_account_recovery",new fc.RequestAccountRecovery(24)],["recover_account",new pc.RecoverAccount(25)],["change_recovery_account",new qi.ChangeRecoveryAccount(26)],["transfer_to_savings",new Ln.Transfer(32)],["transfer_from_savings",new zi.TransferFromSavings(33)],["cancel_transfer_from_savings",new Ki.CancelTransferFromSavings(34)],["decline_voting_rights",new dc.DeclineVotingRights(36)],["reset_account",new uc.ResetAccount(37)],["set_reset_account",new lc.SetResetAccount(38)],["claim_reward_balance",new _c.ClaimRewardBalance(39)],["delegate_vesting_shares",new Ec.DelegateVestingShares(40)],["create_proposal",new gc.CreateProposal(44)],["update_proposal_votes",new vc.UpdateProposalVotes(45)],["remove_proposal",new ac.RemoveProposal(46)],["update_proposal",new xc.UpdateProposal(47)],["collateralized_convert",new bc.CollateralizedConvert(48)],["recurrent_transfer",new Ac.RecurrentTransfer(49)]]);we.encode=t=>{var e;const n=(e=we.encodersMap.get(t[0]))===null||e===void 0?void 0:e.encode(t[1]);if(!n)throw new Error("Unsupported operation type");return n};we.validate=t=>{var e,n;return(n=(e=we.encodersMap.get(t[0]))===null||e===void 0?void 0:e.validate(t[1]))!==null&&n!==void 0?n:!1};var T={},k={},un={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.crypto=void 0;Rt.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=n,t.anumber=o,t.abytes=r,t.ahash=i,t.aexists=c,t.aoutput=d,t.u8=u,t.u32=h,t.clean=g,t.createView=l,t.rotr=m,t.rotl=E,t.byteSwap=w,t.byteSwap32=I,t.bytesToHex=R,t.hexToBytes=L,t.asyncLoop=D,t.utf8ToBytes=U,t.bytesToUtf8=G,t.toBytes=ne,t.kdfInputToBytes=Ie,t.concatBytes=ge,t.checkOpts=Be,t.createHasher=Ce,t.createOptHasher=xn,t.createXOFer=yn,t.randomBytes=Vr;const e=Rt;function n(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function o(a){if(!Number.isSafeInteger(a)||a<0)throw new Error("positive integer expected, got "+a)}function r(a,...f){if(!n(a))throw new Error("Uint8Array expected");if(f.length>0&&!f.includes(a.length))throw new Error("Uint8Array expected of length "+f+", got length="+a.length)}function i(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");o(a.outputLen),o(a.blockLen)}function c(a,f=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(f&&a.finished)throw new Error("Hash#digest() has already been called")}function d(a,f){r(a);const C=f.outputLen;if(a.length<C)throw new Error("digestInto() expects output buffer of length at least "+C)}function u(a){return new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}function h(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function g(...a){for(let f=0;f<a.length;f++)a[f].fill(0)}function l(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function m(a,f){return a<<32-f|a>>>f}function E(a,f){return a<<f|a>>>32-f>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function w(a){return a<<24&4278190080|a<<8&16711680|a>>>8&65280|a>>>24&255}t.swap8IfBE=t.isLE?a=>a:a=>w(a),t.byteSwapIfBE=t.swap8IfBE;function I(a){for(let f=0;f<a.length;f++)a[f]=w(a[f]);return a}t.swap32IfBE=t.isLE?a=>a:I;const B=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",H=Array.from({length:256},(a,f)=>f.toString(16).padStart(2,"0"));function R(a){if(r(a),B)return a.toHex();let f="";for(let C=0;C<a.length;C++)f+=H[a[C]];return f}const v={_0:48,_9:57,A:65,F:70,a:97,f:102};function O(a){if(a>=v._0&&a<=v._9)return a-v._0;if(a>=v.A&&a<=v.F)return a-(v.A-10);if(a>=v.a&&a<=v.f)return a-(v.a-10)}function L(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);if(B)return Uint8Array.fromHex(a);const f=a.length,C=f/2;if(f%2)throw new Error("hex string expected, got unpadded hex of length "+f);const N=new Uint8Array(C);for(let M=0,W=0;M<C;M++,W+=2){const mn=O(a.charCodeAt(W)),wn=O(a.charCodeAt(W+1));if(mn===void 0||wn===void 0){const Nr=a[W]+a[W+1];throw new Error('hex string expected, got non-hex character "'+Nr+'" at index '+W)}N[M]=mn*16+wn}return N}const $=async()=>{};t.nextTick=$;async function D(a,f,C){let N=Date.now();for(let M=0;M<a;M++){C(M);const W=Date.now()-N;W>=0&&W<f||(await(0,t.nextTick)(),N+=W)}}function U(a){if(typeof a!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}function G(a){return new TextDecoder().decode(a)}function ne(a){return typeof a=="string"&&(a=U(a)),r(a),a}function Ie(a){return typeof a=="string"&&(a=U(a)),r(a),a}function ge(...a){let f=0;for(let N=0;N<a.length;N++){const M=a[N];r(M),f+=M.length}const C=new Uint8Array(f);for(let N=0,M=0;N<a.length;N++){const W=a[N];C.set(W,M),M+=W.length}return C}function Be(a,f){if(f!==void 0&&{}.toString.call(f)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(a,f)}class Mt{}t.Hash=Mt;function Ce(a){const f=N=>a().update(ne(N)).digest(),C=a();return f.outputLen=C.outputLen,f.blockLen=C.blockLen,f.create=()=>a(),f}function xn(a){const f=(N,M)=>a(M).update(ne(N)).digest(),C=a({});return f.outputLen=C.outputLen,f.blockLen=C.blockLen,f.create=N=>a(N),f}function yn(a){const f=(N,M)=>a(M).update(ne(N)).digest(),C=a({});return f.outputLen=C.outputLen,f.blockLen=C.blockLen,f.create=N=>a(N),f}t.wrapConstructor=Ce,t.wrapConstructorWithOpts=xn,t.wrapXOFConstructorWithOpts=yn;function Vr(a=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(a));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(a));throw new Error("crypto.getRandomValues must be defined")}})(un);Object.defineProperty(k,"__esModule",{value:!0});k.SHA512_IV=k.SHA384_IV=k.SHA224_IV=k.SHA256_IV=k.HashMD=void 0;k.setBigUint64=kn;k.Chi=yc;k.Maj=mc;const ee=un;function kn(t,e,n,o){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,o);const r=BigInt(32),i=BigInt(4294967295),c=Number(n>>r&i),d=Number(n&i),u=o?4:0,h=o?0:4;t.setUint32(e+u,c,o),t.setUint32(e+h,d,o)}function yc(t,e,n){return t&e^~t&n}function mc(t,e,n){return t&e^t&n^e&n}class wc extends ee.Hash{constructor(e,n,o,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=o,this.isLE=r,this.buffer=new Uint8Array(e),this.view=(0,ee.createView)(this.buffer)}update(e){(0,ee.aexists)(this),e=(0,ee.toBytes)(e),(0,ee.abytes)(e);const{view:n,buffer:o,blockLen:r}=this,i=e.length;for(let c=0;c<i;){const d=Math.min(r-this.pos,i-c);if(d===r){const u=(0,ee.createView)(e);for(;r<=i-c;c+=r)this.process(u,c);continue}o.set(e.subarray(c,c+d),this.pos),this.pos+=d,c+=d,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,ee.aexists)(this),(0,ee.aoutput)(e,this),this.finished=!0;const{buffer:n,view:o,blockLen:r,isLE:i}=this;let{pos:c}=this;n[c++]=128,(0,ee.clean)(this.buffer.subarray(c)),this.padOffset>r-c&&(this.process(o,0),c=0);for(let l=c;l<r;l++)n[l]=0;kn(o,r-8,BigInt(this.length*8),i),this.process(o,0);const d=(0,ee.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=u/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<h;l++)d.setUint32(4*l,g[l],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const o=e.slice(0,n);return this.destroy(),o}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:o,length:r,finished:i,destroyed:c,pos:d}=this;return e.destroyed=c,e.finished=i,e.length=r,e.pos=d,r%n&&e.buffer.set(o),e}clone(){return this._cloneInto()}}k.HashMD=wc;k.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);k.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);k.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);k.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var _={};Object.defineProperty(_,"__esModule",{value:!0});_.toBig=_.shrSL=_.shrSH=_.rotrSL=_.rotrSH=_.rotrBL=_.rotrBH=_.rotr32L=_.rotr32H=_.rotlSL=_.rotlSH=_.rotlBL=_.rotlBH=_.add5L=_.add5H=_.add4L=_.add4H=_.add3L=_.add3H=void 0;_.add=or;_.fromBig=ln;_.split=Gn;const Ze=BigInt(2**32-1),sn=BigInt(32);function ln(t,e=!1){return e?{h:Number(t&Ze),l:Number(t>>sn&Ze)}:{h:Number(t>>sn&Ze)|0,l:Number(t&Ze)|0}}function Gn(t,e=!1){const n=t.length;let o=new Uint32Array(n),r=new Uint32Array(n);for(let i=0;i<n;i++){const{h:c,l:d}=ln(t[i],e);[o[i],r[i]]=[c,d]}return[o,r]}const Wn=(t,e)=>BigInt(t>>>0)<<sn|BigInt(e>>>0);_.toBig=Wn;const qn=(t,e,n)=>t>>>n;_.shrSH=qn;const zn=(t,e,n)=>t<<32-n|e>>>n;_.shrSL=zn;const Kn=(t,e,n)=>t>>>n|e<<32-n;_.rotrSH=Kn;const Yn=(t,e,n)=>t<<32-n|e>>>n;_.rotrSL=Yn;const Jn=(t,e,n)=>t<<64-n|e>>>n-32;_.rotrBH=Jn;const Xn=(t,e,n)=>t>>>n-32|e<<64-n;_.rotrBL=Xn;const Zn=(t,e)=>e;_.rotr32H=Zn;const Qn=(t,e)=>t;_.rotr32L=Qn;const er=(t,e,n)=>t<<n|e>>>32-n;_.rotlSH=er;const tr=(t,e,n)=>e<<n|t>>>32-n;_.rotlSL=tr;const nr=(t,e,n)=>e<<n-32|t>>>64-n;_.rotlBH=nr;const rr=(t,e,n)=>t<<n-32|e>>>64-n;_.rotlBL=rr;function or(t,e,n,o){const r=(e>>>0)+(o>>>0);return{h:t+n+(r/2**32|0)|0,l:r|0}}const ir=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);_.add3L=ir;const cr=(t,e,n,o)=>e+n+o+(t/2**32|0)|0;_.add3H=cr;const sr=(t,e,n,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(o>>>0);_.add4L=sr;const ar=(t,e,n,o,r)=>e+n+o+r+(t/2**32|0)|0;_.add4H=ar;const dr=(t,e,n,o,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(o>>>0)+(r>>>0);_.add5L=dr;const ur=(t,e,n,o,r,i)=>e+n+o+r+i+(t/2**32|0)|0;_.add5H=ur;const Oc={fromBig:ln,split:Gn,toBig:Wn,shrSH:qn,shrSL:zn,rotrSH:Kn,rotrSL:Yn,rotrBH:Jn,rotrBL:Xn,rotr32H:Zn,rotr32L:Qn,rotlSH:er,rotlSL:tr,rotlBH:nr,rotlBL:rr,add:or,add3L:ir,add3H:cr,add4L:sr,add4H:ar,add5H:ur,add5L:dr};_.default=Oc;Object.defineProperty(T,"__esModule",{value:!0});T.sha512_224=T.sha512_256=T.sha384=T.sha512=T.sha224=T.sha256=T.SHA512_256=T.SHA512_224=T.SHA384=T.SHA512=T.SHA224=T.SHA256=void 0;const p=k,A=_,P=un,Tc=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ae=new Uint32Array(64);class fn extends p.HashMD{constructor(e=32){super(64,e,8,!1),this.A=p.SHA256_IV[0]|0,this.B=p.SHA256_IV[1]|0,this.C=p.SHA256_IV[2]|0,this.D=p.SHA256_IV[3]|0,this.E=p.SHA256_IV[4]|0,this.F=p.SHA256_IV[5]|0,this.G=p.SHA256_IV[6]|0,this.H=p.SHA256_IV[7]|0}get(){const{A:e,B:n,C:o,D:r,E:i,F:c,G:d,H:u}=this;return[e,n,o,r,i,c,d,u]}set(e,n,o,r,i,c,d,u){this.A=e|0,this.B=n|0,this.C=o|0,this.D=r|0,this.E=i|0,this.F=c|0,this.G=d|0,this.H=u|0}process(e,n){for(let l=0;l<16;l++,n+=4)ae[l]=e.getUint32(n,!1);for(let l=16;l<64;l++){const m=ae[l-15],E=ae[l-2],w=(0,P.rotr)(m,7)^(0,P.rotr)(m,18)^m>>>3,I=(0,P.rotr)(E,17)^(0,P.rotr)(E,19)^E>>>10;ae[l]=I+ae[l-7]+w+ae[l-16]|0}let{A:o,B:r,C:i,D:c,E:d,F:u,G:h,H:g}=this;for(let l=0;l<64;l++){const m=(0,P.rotr)(d,6)^(0,P.rotr)(d,11)^(0,P.rotr)(d,25),E=g+m+(0,p.Chi)(d,u,h)+Tc[l]+ae[l]|0,I=((0,P.rotr)(o,2)^(0,P.rotr)(o,13)^(0,P.rotr)(o,22))+(0,p.Maj)(o,r,i)|0;g=h,h=u,u=d,d=c+E|0,c=i,i=r,r=o,o=E+I|0}o=o+this.A|0,r=r+this.B|0,i=i+this.C|0,c=c+this.D|0,d=d+this.E|0,u=u+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(o,r,i,c,d,u,h,g)}roundClean(){(0,P.clean)(ae)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,P.clean)(this.buffer)}}T.SHA256=fn;class lr extends fn{constructor(){super(28),this.A=p.SHA224_IV[0]|0,this.B=p.SHA224_IV[1]|0,this.C=p.SHA224_IV[2]|0,this.D=p.SHA224_IV[3]|0,this.E=p.SHA224_IV[4]|0,this.F=p.SHA224_IV[5]|0,this.G=p.SHA224_IV[6]|0,this.H=p.SHA224_IV[7]|0}}T.SHA224=lr;const fr=A.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ic=fr[0],Bc=fr[1],de=new Uint32Array(80),ue=new Uint32Array(80);class je extends p.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=p.SHA512_IV[0]|0,this.Al=p.SHA512_IV[1]|0,this.Bh=p.SHA512_IV[2]|0,this.Bl=p.SHA512_IV[3]|0,this.Ch=p.SHA512_IV[4]|0,this.Cl=p.SHA512_IV[5]|0,this.Dh=p.SHA512_IV[6]|0,this.Dl=p.SHA512_IV[7]|0,this.Eh=p.SHA512_IV[8]|0,this.El=p.SHA512_IV[9]|0,this.Fh=p.SHA512_IV[10]|0,this.Fl=p.SHA512_IV[11]|0,this.Gh=p.SHA512_IV[12]|0,this.Gl=p.SHA512_IV[13]|0,this.Hh=p.SHA512_IV[14]|0,this.Hl=p.SHA512_IV[15]|0}get(){const{Ah:e,Al:n,Bh:o,Bl:r,Ch:i,Cl:c,Dh:d,Dl:u,Eh:h,El:g,Fh:l,Fl:m,Gh:E,Gl:w,Hh:I,Hl:B}=this;return[e,n,o,r,i,c,d,u,h,g,l,m,E,w,I,B]}set(e,n,o,r,i,c,d,u,h,g,l,m,E,w,I,B){this.Ah=e|0,this.Al=n|0,this.Bh=o|0,this.Bl=r|0,this.Ch=i|0,this.Cl=c|0,this.Dh=d|0,this.Dl=u|0,this.Eh=h|0,this.El=g|0,this.Fh=l|0,this.Fl=m|0,this.Gh=E|0,this.Gl=w|0,this.Hh=I|0,this.Hl=B|0}process(e,n){for(let v=0;v<16;v++,n+=4)de[v]=e.getUint32(n),ue[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const O=de[v-15]|0,L=ue[v-15]|0,$=A.rotrSH(O,L,1)^A.rotrSH(O,L,8)^A.shrSH(O,L,7),D=A.rotrSL(O,L,1)^A.rotrSL(O,L,8)^A.shrSL(O,L,7),U=de[v-2]|0,G=ue[v-2]|0,ne=A.rotrSH(U,G,19)^A.rotrBH(U,G,61)^A.shrSH(U,G,6),Ie=A.rotrSL(U,G,19)^A.rotrBL(U,G,61)^A.shrSL(U,G,6),ge=A.add4L(D,Ie,ue[v-7],ue[v-16]),Be=A.add4H(ge,$,ne,de[v-7],de[v-16]);de[v]=Be|0,ue[v]=ge|0}let{Ah:o,Al:r,Bh:i,Bl:c,Ch:d,Cl:u,Dh:h,Dl:g,Eh:l,El:m,Fh:E,Fl:w,Gh:I,Gl:B,Hh:H,Hl:R}=this;for(let v=0;v<80;v++){const O=A.rotrSH(l,m,14)^A.rotrSH(l,m,18)^A.rotrBH(l,m,41),L=A.rotrSL(l,m,14)^A.rotrSL(l,m,18)^A.rotrBL(l,m,41),$=l&E^~l&I,D=m&w^~m&B,U=A.add5L(R,L,D,Bc[v],ue[v]),G=A.add5H(U,H,O,$,Ic[v],de[v]),ne=U|0,Ie=A.rotrSH(o,r,28)^A.rotrBH(o,r,34)^A.rotrBH(o,r,39),ge=A.rotrSL(o,r,28)^A.rotrBL(o,r,34)^A.rotrBL(o,r,39),Be=o&i^o&d^i&d,Mt=r&c^r&u^c&u;H=I|0,R=B|0,I=E|0,B=w|0,E=l|0,w=m|0,{h:l,l:m}=A.add(h|0,g|0,G|0,ne|0),h=d|0,g=u|0,d=i|0,u=c|0,i=o|0,c=r|0;const Ce=A.add3L(ne,ge,Mt);o=A.add3H(Ce,G,Ie,Be),r=Ce|0}({h:o,l:r}=A.add(this.Ah|0,this.Al|0,o|0,r|0)),{h:i,l:c}=A.add(this.Bh|0,this.Bl|0,i|0,c|0),{h:d,l:u}=A.add(this.Ch|0,this.Cl|0,d|0,u|0),{h,l:g}=A.add(this.Dh|0,this.Dl|0,h|0,g|0),{h:l,l:m}=A.add(this.Eh|0,this.El|0,l|0,m|0),{h:E,l:w}=A.add(this.Fh|0,this.Fl|0,E|0,w|0),{h:I,l:B}=A.add(this.Gh|0,this.Gl|0,I|0,B|0),{h:H,l:R}=A.add(this.Hh|0,this.Hl|0,H|0,R|0),this.set(o,r,i,c,d,u,h,g,l,m,E,w,I,B,H,R)}roundClean(){(0,P.clean)(de,ue)}destroy(){(0,P.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}T.SHA512=je;class hr extends je{constructor(){super(48),this.Ah=p.SHA384_IV[0]|0,this.Al=p.SHA384_IV[1]|0,this.Bh=p.SHA384_IV[2]|0,this.Bl=p.SHA384_IV[3]|0,this.Ch=p.SHA384_IV[4]|0,this.Cl=p.SHA384_IV[5]|0,this.Dh=p.SHA384_IV[6]|0,this.Dl=p.SHA384_IV[7]|0,this.Eh=p.SHA384_IV[8]|0,this.El=p.SHA384_IV[9]|0,this.Fh=p.SHA384_IV[10]|0,this.Fl=p.SHA384_IV[11]|0,this.Gh=p.SHA384_IV[12]|0,this.Gl=p.SHA384_IV[13]|0,this.Hh=p.SHA384_IV[14]|0,this.Hl=p.SHA384_IV[15]|0}}T.SHA384=hr;const F=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),j=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class pr extends je{constructor(){super(28),this.Ah=F[0]|0,this.Al=F[1]|0,this.Bh=F[2]|0,this.Bl=F[3]|0,this.Ch=F[4]|0,this.Cl=F[5]|0,this.Dh=F[6]|0,this.Dl=F[7]|0,this.Eh=F[8]|0,this.El=F[9]|0,this.Fh=F[10]|0,this.Fl=F[11]|0,this.Gh=F[12]|0,this.Gl=F[13]|0,this.Hh=F[14]|0,this.Hl=F[15]|0}}T.SHA512_224=pr;class _r extends je{constructor(){super(32),this.Ah=j[0]|0,this.Al=j[1]|0,this.Bh=j[2]|0,this.Bl=j[3]|0,this.Ch=j[4]|0,this.Cl=j[5]|0,this.Dh=j[6]|0,this.Dl=j[7]|0,this.Eh=j[8]|0,this.El=j[9]|0,this.Fh=j[10]|0,this.Fl=j[11]|0,this.Gh=j[12]|0,this.Gl=j[13]|0,this.Hh=j[14]|0,this.Hl=j[15]|0}}T.SHA512_256=_r;T.sha256=(0,P.createHasher)(()=>new fn);T.sha224=(0,P.createHasher)(()=>new lr);T.sha512=(0,P.createHasher)(()=>new je);T.sha384=(0,P.createHasher)(()=>new hr);T.sha512_256=(0,P.createHasher)(()=>new _r);T.sha512_224=(0,P.createHasher)(()=>new pr);var Er={},gr={},hn={},an={exports:{}};typeof Object.create=="function"?an.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:an.exports=function(e,n){if(n){e.super_=n;var o=function(){};o.prototype=n.prototype,e.prototype=new o,e.prototype.constructor=e}};var pn=an.exports,_n={};const Cc=pn;function Y(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}_n.Reporter=Y;Y.prototype.isError=function(e){return e instanceof Oe};Y.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Y.prototype.restore=function(e){const n=this._reporterState;n.obj=e.obj,n.path=n.path.slice(0,e.pathLen)};Y.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Y.prototype.exitKey=function(e){const n=this._reporterState;n.path=n.path.slice(0,e-1)};Y.prototype.leaveKey=function(e,n,o){const r=this._reporterState;this.exitKey(e),r.obj!==null&&(r.obj[n]=o)};Y.prototype.path=function(){return this._reporterState.path.join("/")};Y.prototype.enterObject=function(){const e=this._reporterState,n=e.obj;return e.obj={},n};Y.prototype.leaveObject=function(e){const n=this._reporterState,o=n.obj;return n.obj=e,o};Y.prototype.error=function(e){let n;const o=this._reporterState,r=e instanceof Oe;if(r?n=e:n=new Oe(o.path.map(function(i){return"["+JSON.stringify(i)+"]"}).join(""),e.message||e,e.stack),!o.options.partial)throw n;return r||o.errors.push(n),n};Y.prototype.wrapResult=function(e){const n=this._reporterState;return n.options.partial?{result:this.isError(e)?null:e,errors:n.errors}:e};function Oe(t,e){this.path=t,this.rethrow(e)}Cc(Oe,Error);Oe.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Oe),!this.stack)try{throw new Error(this.message)}catch(n){this.stack=n.stack}return this};var En={};function Te(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(n){return Te.isEncoderBuffer(n)||(n=new Te(n,e)),this.length+=n.length,n},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Buffer.byteLength(t);else if(Buffer.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}En.EncoderBuffer=Te;Te.isEncoderBuffer=function(e){return e instanceof Te?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};Te.prototype.join=function(e,n){return e||(e=Buffer.alloc(this.length)),n||(n=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(o){o.join(e,n),n+=o.length}):(typeof this.value=="number"?e[n]=this.value:typeof this.value=="string"?e.write(this.value,n):Buffer.isBuffer(this.value)&&this.value.copy(e,n),n+=this.length)),e};const Vc=_n.Reporter,Nc=En.EncoderBuffer,vr=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Pc=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(vr),Dc=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function V(t,e,n){const o={};this._baseState=o,o.name=n,o.enc=t,o.parent=e||null,o.children=null,o.tag=null,o.args=null,o.reverseArgs=null,o.choice=null,o.optional=!1,o.any=!1,o.obj=!1,o.use=null,o.useDecoder=null,o.key=null,o.default=null,o.explicit=null,o.implicit=null,o.contains=null,o.parent||(o.children=[],this._wrap())}var Sr=V;const Uc=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];V.prototype.clone=function(){const e=this._baseState,n={};Uc.forEach(function(r){n[r]=e[r]});const o=new this.constructor(n.parent);return o._baseState=n,o};V.prototype._wrap=function(){const e=this._baseState;Pc.forEach(function(n){this[n]=function(){const r=new this.constructor(this);return e.children.push(r),r[n].apply(r,arguments)}},this)};V.prototype._init=function(e){const n=this._baseState;e.call(this),n.children=n.children.filter(function(o){return o._baseState.parent===this},this)};V.prototype._useArgs=function(e){const n=this._baseState,o=e.filter(function(r){return r instanceof this.constructor},this);e=e.filter(function(r){return!(r instanceof this.constructor)},this),o.length!==0&&(n.children=o,o.forEach(function(r){r._baseState.parent=this},this)),e.length!==0&&(n.args=e,n.reverseArgs=e.map(function(r){if(typeof r!="object"||r.constructor!==Object)return r;const i={};return Object.keys(r).forEach(function(c){c==(c|0)&&(c|=0);const d=r[c];i[d]=c}),i}))};Dc.forEach(function(t){V.prototype[t]=function(){const n=this._baseState;throw new Error(t+" not implemented for encoding: "+n.enc)}});vr.forEach(function(t){V.prototype[t]=function(){const n=this._baseState,o=Array.prototype.slice.call(arguments);return n.tag=t,this._useArgs(o),this}});V.prototype.use=function(e){const n=this._baseState;return n.use=e,this};V.prototype.optional=function(){const e=this._baseState;return e.optional=!0,this};V.prototype.def=function(e){const n=this._baseState;return n.default=e,n.optional=!0,this};V.prototype.explicit=function(e){const n=this._baseState;return n.explicit=e,this};V.prototype.implicit=function(e){const n=this._baseState;return n.implicit=e,this};V.prototype.obj=function(){const e=this._baseState,n=Array.prototype.slice.call(arguments);return e.obj=!0,n.length!==0&&this._useArgs(n),this};V.prototype.key=function(e){const n=this._baseState;return n.key=e,this};V.prototype.any=function(){const e=this._baseState;return e.any=!0,this};V.prototype.choice=function(e){const n=this._baseState;return n.choice=e,this._useArgs(Object.keys(e).map(function(o){return e[o]})),this};V.prototype.contains=function(e){const n=this._baseState;return n.contains=e,this};V.prototype._createEncoderBuffer=function(e){return new Nc(e,this.reporter)};V.prototype._encode=function(e,n,o){const r=this._baseState;if(r.default!==null&&r.default===e)return;const i=this._encodeValue(e,n,o);if(i!==void 0&&!this._skipDefault(i,n,o))return i};V.prototype._encodeValue=function(e,n,o){const r=this._baseState;if(r.parent===null)return r.children[0]._encode(e,n||new Vc);let i=null;if(this.reporter=n,r.optional&&e===void 0)if(r.default!==null)e=r.default;else return;let c=null,d=!1;if(r.any)i=this._createEncoderBuffer(e);else if(r.choice)i=this._encodeChoice(e,n);else if(r.contains)c=this._getUse(r.contains,o)._encode(e,n),d=!0;else if(r.children)c=r.children.map(function(u){if(u._baseState.tag==="null_")return u._encode(null,n,e);if(u._baseState.key===null)return n.error("Child should have a key");const h=n.enterKey(u._baseState.key);if(typeof e!="object")return n.error("Child expected, but input is not object");const g=u._encode(e[u._baseState.key],n,e);return n.leaveKey(h),g},this).filter(function(u){return u}),c=this._createEncoderBuffer(c);else if(r.tag==="seqof"||r.tag==="setof"){if(!(r.args&&r.args.length===1))return n.error("Too many args for : "+r.tag);if(!Array.isArray(e))return n.error("seqof/setof, but data is not Array");const u=this.clone();u._baseState.implicit=null,c=this._createEncoderBuffer(e.map(function(h){const g=this._baseState;return this._getUse(g.args[0],e)._encode(h,n)},u))}else r.use!==null?i=this._getUse(r.use,o)._encode(e,n):(c=this._encodePrimitive(r.tag,e),d=!0);if(!r.any&&r.choice===null){const u=r.implicit!==null?r.implicit:r.tag,h=r.implicit===null?"universal":"context";u===null?r.use===null&&n.error("Tag could be omitted only for .use()"):r.use===null&&(i=this._encodeComposite(u,d,h,c))}return r.explicit!==null&&(i=this._encodeComposite(r.explicit,!1,"context",i)),i};V.prototype._encodeChoice=function(e,n){const o=this._baseState,r=o.choice[e.type];if(!r)throw new Error(e.type+" not found in "+JSON.stringify(Object.keys(o.choice)));return r._encode(e.value,n)};V.prototype._encodePrimitive=function(e,n){const o=this._baseState;if(/str$/.test(e))return this._encodeStr(n,e);if(e==="objid"&&o.args)return this._encodeObjid(n,o.reverseArgs[0],o.args[1]);if(e==="objid")return this._encodeObjid(n,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(n,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(n,o.args&&o.reverseArgs[0]);if(e==="bool")return this._encodeBool(n);if(e==="objDesc")return this._encodeStr(n,e);throw new Error("Unsupported tag: "+e)};V.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};V.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};var gn={};(function(t){function e(n){const o={};return Object.keys(n).forEach(function(r){(r|0)==r&&(r=r|0);const i=n[r];o[i]=r}),o}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e(t.tag)})(gn);const Hc=pn,Ar=Sr,nn=gn;function br(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new J,this.tree._init(t.body)}var Rc=br;br.prototype.encode=function(e,n){return this.tree._encode(e,n).join()};function J(t){Ar.call(this,"der",t)}Hc(J,Ar);J.prototype._encodeComposite=function(e,n,o,r){const i=Lc(e,n,o,this.reporter);if(r.length<128){const u=Buffer.alloc(2);return u[0]=i,u[1]=r.length,this._createEncoderBuffer([u,r])}let c=1;for(let u=r.length;u>=256;u>>=8)c++;const d=Buffer.alloc(2+c);d[0]=i,d[1]=128|c;for(let u=1+c,h=r.length;h>0;u--,h>>=8)d[u]=h&255;return this._createEncoderBuffer([d,r])};J.prototype._encodeStr=function(e,n){if(n==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(n==="bmpstr"){const o=Buffer.alloc(e.length*2);for(let r=0;r<e.length;r++)o.writeUInt16BE(e.charCodeAt(r),r*2);return this._createEncoderBuffer(o)}else return n==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):n==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(n)?this._createEncoderBuffer(e):n==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+n+" unsupported")};J.prototype._encodeObjid=function(e,n,o){if(typeof e=="string"){if(!n)return this.reporter.error("string objid given, but no values map found");if(!n.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=n[e].split(/[\s.]+/g);for(let d=0;d<e.length;d++)e[d]|=0}else if(Array.isArray(e)){e=e.slice();for(let d=0;d<e.length;d++)e[d]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!o){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let r=0;for(let d=0;d<e.length;d++){let u=e[d];for(r++;u>=128;u>>=7)r++}const i=Buffer.alloc(r);let c=i.length-1;for(let d=e.length-1;d>=0;d--){let u=e[d];for(i[c--]=u&127;(u>>=7)>0;)i[c--]=128|u&127}return this._createEncoderBuffer(i)};function z(t){return t<10?"0"+t:t}J.prototype._encodeTime=function(e,n){let o;const r=new Date(e);return n==="gentime"?o=[z(r.getUTCFullYear()),z(r.getUTCMonth()+1),z(r.getUTCDate()),z(r.getUTCHours()),z(r.getUTCMinutes()),z(r.getUTCSeconds()),"Z"].join(""):n==="utctime"?o=[z(r.getUTCFullYear()%100),z(r.getUTCMonth()+1),z(r.getUTCDate()),z(r.getUTCHours()),z(r.getUTCMinutes()),z(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+n+" time is not supported yet"),this._encodeStr(o,"octstr")};J.prototype._encodeNull=function(){return this._createEncoderBuffer("")};J.prototype._encodeInt=function(e,n){if(typeof e=="string"){if(!n)return this.reporter.error("String int or enum given, but no values map");if(!n.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=n[e]}if(typeof e!="number"&&!Buffer.isBuffer(e)){const i=e.toArray();!e.sign&&i[0]&128&&i.unshift(0),e=Buffer.from(i)}if(Buffer.isBuffer(e)){let i=e.length;e.length===0&&i++;const c=Buffer.alloc(i);return e.copy(c),e.length===0&&(c[0]=0),this._createEncoderBuffer(c)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let o=1;for(let i=e;i>=256;i>>=8)o++;const r=new Array(o);for(let i=r.length-1;i>=0;i--)r[i]=e&255,e>>=8;return r[0]&128&&r.unshift(0),this._createEncoderBuffer(Buffer.from(r))};J.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};J.prototype._use=function(e,n){return typeof e=="function"&&(e=e(n)),e._getEncoder("der").tree};J.prototype._skipDefault=function(e,n,o){const r=this._baseState;let i;if(r.default===null)return!1;const c=e.join();if(r.defaultBuffer===void 0&&(r.defaultBuffer=this._encodeValue(r.default,n,o).join()),c.length!==r.defaultBuffer.length)return!1;for(i=0;i<c.length;i++)if(c[i]!==r.defaultBuffer[i])return!1;return!0};function Lc(t,e,n,o){let r;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),nn.tagByName.hasOwnProperty(t))r=nn.tagByName[t];else if(typeof t=="number"&&(t|0)===t)r=t;else return o.error("Unknown tag: "+t);return r>=31?o.error("Multi-octet tag encoding unsupported"):(e||(r|=32),r|=nn.tagClassByName[n||"universal"]<<6,r)}(function(t){const e=t;e.der=Rc})(hn);(function(t){const e=hn,n=pn,o=t;o.define=function(c,d){return new r(c,d)};function r(i,c){this.name=i,this.body=c,this.encoders={}}r.prototype._createNamed=function(c){const d=this.name;function u(h){this._initNamed(h,d)}return n(u,c),u.prototype._initNamed=function(g,l){c.call(this,g,l)},new u(this)},r.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(e[c])),this.encoders[c]},r.prototype.encode=function(c,d,u){return this._getEncoder(d).encode(c,u)}})(gr);var xr={};(function(t){const e=t;e.Reporter=_n.Reporter,e.EncoderBuffer=En.EncoderBuffer,e.Node=Sr})(xr);var yr={};(function(t){const e=t;e._reverse=function(o){const r={};return Object.keys(o).forEach(function(i){(i|0)==i&&(i=i|0);const c=o[i];r[c]=i}),r},e.der=gn})(yr);(function(t){const e=t;e.define=gr.define,e.base=xr,e.constants=yr,e.encoders=hn})(Er);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ParsedTransaction=t.DEFAULT_CHAIN_ID=void 0;const e=Fe,n=S,o=T,r=Er;t.DEFAULT_CHAIN_ID="beeab0de00000000000000000000000000000000000000000000000000000000";class i{constructor(d,u=t.DEFAULT_CHAIN_ID){this.encode=()=>{const h=this.operations.reduce((l,m)=>Buffer.concat([l,this.encoder.encode(m,"der")]),Buffer.alloc(0));return Buffer.concat([this.encoder.encode(this.chainId,"der"),this.encoder.encode(this.ref_block_num,"der"),this.encoder.encode(this.ref_block_prefix,"der"),this.encoder.encode(this.expiration,"der"),this.encoder.encode(this.operations_count,"der"),h,this.encoder.encode(this.extensions_size,"der")])},this.rawTx=d,this.encoder=r.define("LedgerEncoder",function(){return this.octstr()}),this.chainId=Buffer.from(u,"hex"),this.ref_block_num=n.Encoder.encodeUInt16(this.rawTx.ref_block_num&65535),this.ref_block_prefix=n.Encoder.encodeUInt32(this.rawTx.ref_block_prefix),this.expiration=n.Encoder.encodeDateTime(this.rawTx.expiration),this.extensions_size=n.Encoder.encodeUInt8(this.rawTx.extensions.length),this.operations_count=n.Encoder.encodeUInt8(this.rawTx.operations.length),this.operations=this.rawTx.operations.map(e.ParsedOperation.encode)}digest(){const d=Buffer.concat([this.chainId,this.ref_block_num,this.ref_block_prefix,this.expiration,this.operations_count,this.operations.reduce((u,h)=>Buffer.concat([u,h]),Buffer.alloc(0)),this.extensions_size]);return Buffer.from((0,o.sha256)(d)).toString("hex")}id(){const d=Buffer.concat([this.ref_block_num,this.ref_block_prefix,this.expiration,this.operations_count,this.operations.reduce((u,h)=>Buffer.concat([u,h]),Buffer.alloc(0)),this.extensions_size]);return Buffer.from((0,o.sha256)(d)).toString("hex").slice(0,40)}}t.ParsedTransaction=i})($n);const mr={},wr={},vn=(t,e)=>{wr[t]=e},s=t=>{class e extends Error{constructor(r,i,c){super(r||t,c);ve(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=t,i)for(const d in i)this[d]=i[d];if(c&&Mc(c)&&"cause"in c&&!this.cause){const d=c.cause;this.cause=d,"stack"in d&&(this.stack=this.stack+`
CAUSE: `+d.stack)}}}return mr[t]=e,e};function Mc(t){return typeof t=="object"}const Or=t=>{if(t&&typeof t=="object"){try{if(typeof t.message=="string"){const n=JSON.parse(t.message);n.message&&n.name&&(t=n)}}catch{}let e;if(typeof t.name=="string"){const{name:n}=t,o=wr[n];if(o)e=o(t);else{let r=n==="Error"?Error:mr[n];r||(console.warn("deserializing an unknown class '"+n+"'"),r=s(n)),e=Object.create(r.prototype);try{for(const i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}catch{}}}else typeof t.message=="string"&&(e=new Error(t.message));return e&&!e.stack&&Error.captureStackTrace&&Error.captureStackTrace(e,Or),e}return new Error(String(t))},Fc=t=>t&&(typeof t=="object"?Tr(t,[]):typeof t=="function"?`[Function: ${t.name||"anonymous"}]`:t);function Tr(t,e){const n={};e.push(t);for(const o of Object.keys(t)){const r=t[o];if(typeof r!="function"){if(!r||typeof r!="object"){n[o]=r;continue}if(e.indexOf(t[o])===-1){n[o]=Tr(t[o],e.slice(0));continue}n[o]="[Circular]"}}return typeof t.name=="string"&&(n.name=t.name),typeof t.message=="string"&&(n.message=t.message),typeof t.stack=="string"&&(n.stack=t.stack),n}const jc=s("AccountNameRequired"),$c=s("AccountNotSupported"),kc=s("AccountAwaitingSendPendingOperations"),Gc=s("AmountRequired"),Wc=s("BluetoothRequired"),qc=s("BtcUnmatchedApp"),zc=s("CantOpenDevice"),Kc=s("CashAddrNotSupported"),Yc=s("ClaimRewardsFeesWarning"),Jc=s("CurrencyNotSupported"),Xc=s("DeviceAppVerifyNotSupported"),Zc=s("DeviceGenuineSocketEarlyClose"),Qc=s("DeviceNotGenuine"),es=s("DeviceOnDashboardExpected"),ts=s("DeviceOnDashboardUnexpected"),ns=s("DeviceInOSUExpected"),rs=s("DeviceHalted"),os=s("DeviceNameInvalid"),is=s("DeviceSocketFail"),cs=s("DeviceSocketNoBulkStatus"),ss=s("DeviceSocketNoBulkStatus"),as=s("UnresponsiveDeviceError"),ds=s("DisconnectedDevice"),us=s("DisconnectedDeviceDuringOperation"),ls=s("DeviceExtractOnboardingStateError"),fs=s("DeviceOnboardingStatePollingError"),hs=s("EnpointConfig"),ps=s("EthAppPleaseEnableContractData"),_s=s("FeeEstimationFailed"),Es=s("FirmwareNotRecognized"),gs=s("HardResetFail"),vs=s("InvalidXRPTag"),Ss=s("InvalidAddress"),As=s("InvalidNonce"),bs=s("InvalidAddressBecauseDestinationIsAlsoSource"),xs=s("LatestMCUInstalledError"),ys=s("LatestFirmwareVersionRequired"),ms=s("UnknownMCU"),ws=s("LedgerAPIError"),Os=s("LedgerAPIErrorWithMessage"),Ts=s("LedgerAPINotAvailable"),Is=s("ManagerAppAlreadyInstalled"),Bs=s("ManagerAppRelyOnBTC"),Cs=s("ManagerAppDepInstallRequired"),Vs=s("ManagerAppDepUninstallRequired"),Ns=s("ManagerDeviceLocked"),Ps=s("ManagerFirmwareNotEnoughSpace"),Ds=s("ManagerNotEnoughSpace"),Us=s("ManagerUninstallBTCDep"),Hs=s("NetworkDown"),Rs=s("NetworkError"),Ls=s("NoAddressesFound"),Ms=s("NotEnoughBalance"),Fs=s("NotEnoughBalanceFees"),js=s("NotEnoughBalanceSwap"),$s=s("NotEnoughBalanceToDelegate"),ks=s("NotEnoughBalanceInParentAccount"),Gs=s("NotEnoughSpendableBalance"),Ws=s("NotEnoughBalanceBecauseDestinationNotCreated"),qs=s("NoAccessToCamera"),zs=s("NotEnoughGas"),Ks=s("NotEnoughGasSwap"),Ys=s("TronEmptyAccount"),Js=s("MaybeKeepTronAccountAlive"),Xs=s("NotSupportedLegacyAddress"),Zs=s("GasLessThanEstimate"),Qs=s("PriorityFeeTooLow"),ea=s("PriorityFeeTooHigh"),ta=s("PriorityFeeHigherThanMaxFee"),na=s("MaxFeeTooLow"),ra=s("PasswordsDontMatch"),oa=s("PasswordIncorrect"),ia=s("RecommendSubAccountsToEmpty"),ca=s("RecommendUndelegation"),sa=s("TimeoutTagged"),aa=s("UnexpectedBootloader"),da=s("MCUNotGenuineToDashboard"),ua=s("RecipientRequired"),la=s("UnavailableTezosOriginatedAccountReceive"),fa=s("UnavailableTezosOriginatedAccountSend"),ha=s("UpdateFetchFileFail"),pa=s("UpdateIncorrectHash"),_a=s("UpdateIncorrectSig"),Ea=s("UpdateYourApp"),ga=s("UserRefusedDeviceNameChange"),va=s("UserRefusedAddress"),Sa=s("UserRefusedFirmwareUpdate"),Aa=s("UserRefusedAllowManager"),ba=s("UserRefusedOnDevice"),xa=s("PinNotSet"),ya=s("ExpertModeRequired"),ma=s("TransportOpenUserCancelled"),wa=s("TransportInterfaceNotAvailable"),Oa=s("TransportRaceCondition"),Ta=s("TransportWebUSBGestureRequired"),Ia=s("TransactionHasBeenValidatedError"),Ba=s("TransportExchangeTimeoutError"),Ca=s("DeviceShouldStayInApp"),Va=s("WebsocketConnectionError"),Na=s("WebsocketConnectionFailed"),Pa=s("WrongDeviceForAccount"),Da=s("WrongDeviceForAccountPayout"),Ua=s("MissingSwapPayloadParamaters"),Ha=s("WrongDeviceForAccountRefund"),Ra=s("WrongAppForCurrency"),La=s("ETHAddressNonEIP"),Ma=s("CantScanQRCode"),Fa=s("FeeNotLoaded"),ja=s("FeeNotLoadedSwap"),$a=s("FeeRequired"),ka=s("FeeTooHigh"),Ga=s("PendingOperation"),Wa=s("SyncError"),qa=s("PairingFailed"),za=s("PeerRemovedPairing"),Ka=s("GenuineCheckFailed"),Ya=s("LedgerAPI4xx"),Ja=s("LedgerAPI5xx"),Xa=s("FirmwareOrAppUpdateRequired"),Za=s("ReplacementTransactionUnderpriced"),Qa=s("OpReturnSizeLimit"),ed=s("DustLimit"),td=s("LanguageNotFound"),nd=s("NoDBPathGiven"),rd=s("DBWrongPassword"),od=s("DBNotReset"),id=s("SequenceNumberError"),cd=s("DisabledTransactionBroadcastError");var dn;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(dn||(dn={}));class Sn extends Error{constructor(n,o){super(o);ve(this,"type");this.name="HwTransportError",this.type=n,Object.setPrototypeOf(this,Sn.prototype)}}class Ir extends Error{constructor(n,o){const r="TransportError";super(n||r);ve(this,"id");this.name=r,this.message=n,this.stack=new Error(n).stack,this.id=o}}vn("TransportError",t=>new Ir(t.message,t.id));const Me={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function Br(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}let An=class Cr extends Error{constructor(n,{canBeMappedToChildError:o=!0}={}){const r=Object.keys(Me).find(u=>Me[u]===n)||"UNKNOWN_ERROR",i=Br(n)||r,c=n.toString(16),d=`Ledger device: ${i} (0x${c})`;super(d);ve(this,"statusCode");ve(this,"statusText");if(this.name="TransportStatusError",this.statusCode=n,this.statusText=r,Object.setPrototypeOf(this,Cr.prototype),o&&n===Me.LOCKED_DEVICE)return new Lt(d)}};class Lt extends An{constructor(e){super(Me.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,Lt.prototype)}}class bn extends Error{constructor(e,n){super(n),this.name=e,Object.setPrototypeOf(this,bn.prototype)}}vn("TransportStatusError",t=>new An(t.statusCode));const sd=Object.freeze(Object.defineProperty({__proto__:null,AccountAwaitingSendPendingOperations:kc,AccountNameRequiredError:jc,AccountNotSupported:$c,AmountRequired:Gc,BluetoothRequired:Wc,BtcUnmatchedApp:qc,CantOpenDevice:zc,CantScanQRCode:Ma,CashAddrNotSupported:Kc,ClaimRewardsFeesWarning:Yc,CurrencyNotSupported:Jc,DBNotReset:od,DBWrongPassword:rd,DeviceAppVerifyNotSupported:Xc,DeviceExtractOnboardingStateError:ls,DeviceGenuineSocketEarlyClose:Zc,DeviceHalted:rs,DeviceInOSUExpected:ns,DeviceMangementKitError:bn,DeviceNameInvalid:os,DeviceNeedsRestart:ss,DeviceNotGenuineError:Qc,DeviceOnDashboardExpected:es,DeviceOnDashboardUnexpected:ts,DeviceOnboardingStatePollingError:fs,DeviceShouldStayInApp:Ca,DeviceSocketFail:is,DeviceSocketNoBulkStatus:cs,DisabledTransactionBroadcastError:cd,DisconnectedDevice:ds,DisconnectedDeviceDuringOperation:us,DustLimit:ed,ETHAddressNonEIP:La,EnpointConfigError:hs,EthAppPleaseEnableContractData:ps,ExpertModeRequired:ya,FeeEstimationFailed:_s,FeeNotLoaded:Fa,FeeNotLoadedSwap:ja,FeeRequired:$a,FeeTooHigh:ka,FirmwareNotRecognized:Es,FirmwareOrAppUpdateRequired:Xa,GasLessThanEstimate:Zs,GenuineCheckFailed:Ka,HardResetFail:gs,HwTransportError:Sn,get HwTransportErrorType(){return dn},InvalidAddress:Ss,InvalidAddressBecauseDestinationIsAlsoSource:bs,InvalidNonce:As,InvalidXRPTag:vs,LanguageNotFound:td,LatestFirmwareVersionRequired:ys,LatestMCUInstalledError:xs,LedgerAPI4xx:Ya,LedgerAPI5xx:Ja,LedgerAPIError:ws,LedgerAPIErrorWithMessage:Os,LedgerAPINotAvailable:Ts,LockedDeviceError:Lt,MCUNotGenuineToDashboard:da,ManagerAppAlreadyInstalledError:Is,ManagerAppDepInstallRequired:Cs,ManagerAppDepUninstallRequired:Vs,ManagerAppRelyOnBTCError:Bs,ManagerDeviceLockedError:Ns,ManagerFirmwareNotEnoughSpaceError:Ps,ManagerNotEnoughSpaceError:Ds,ManagerUninstallBTCDep:Us,MaxFeeTooLow:na,MaybeKeepTronAccountAlive:Js,MissingSwapPayloadParamaters:Ua,NetworkDown:Hs,NetworkError:Rs,NoAccessToCamera:qs,NoAddressesFound:Ls,NoDBPathGiven:nd,NotEnoughBalance:Ms,NotEnoughBalanceBecauseDestinationNotCreated:Ws,NotEnoughBalanceFees:Fs,NotEnoughBalanceInParentAccount:ks,NotEnoughBalanceSwap:js,NotEnoughBalanceToDelegate:$s,NotEnoughGas:zs,NotEnoughGasSwap:Ks,NotEnoughSpendableBalance:Gs,NotSupportedLegacyAddress:Xs,OpReturnDataSizeLimit:Qa,PairingFailed:qa,PasswordIncorrectError:oa,PasswordsDontMatchError:ra,PeerRemovedPairing:za,PendingOperation:Ga,PinNotSet:xa,PriorityFeeHigherThanMaxFee:ta,PriorityFeeTooHigh:ea,PriorityFeeTooLow:Qs,RecipientRequired:ua,RecommendSubAccountsToEmpty:ia,RecommendUndelegation:ca,ReplacementTransactionUnderpriced:Za,SequenceNumberError:id,StatusCodes:Me,SyncError:Wa,TimeoutTagged:sa,TransactionHasBeenValidatedError:Ia,TransportError:Ir,TransportExchangeTimeoutError:Ba,TransportInterfaceNotAvailable:wa,TransportOpenUserCancelled:ma,TransportRaceCondition:Oa,TransportStatusError:An,TransportWebUSBGestureRequired:Ta,TronEmptyAccount:Ys,UnavailableTezosOriginatedAccountReceive:la,UnavailableTezosOriginatedAccountSend:fa,UnexpectedBootloader:aa,UnknownMCU:ms,UnresponsiveDeviceError:as,UpdateFetchFileFail:ha,UpdateIncorrectHash:pa,UpdateIncorrectSig:_a,UpdateYourApp:Ea,UserRefusedAddress:va,UserRefusedAllowManager:Aa,UserRefusedDeviceNameChange:ga,UserRefusedFirmwareUpdate:Sa,UserRefusedOnDevice:ba,WebsocketConnectionError:Va,WebsocketConnectionFailed:Na,WrongAppForCurrency:Ra,WrongDeviceForAccount:Pa,WrongDeviceForAccountPayout:Da,WrongDeviceForAccountRefund:Ha,addCustomErrorDeserializer:vn,createCustomErrorClass:s,deserializeError:Or,getAltStatusMessage:Br,serializeError:Fc},Symbol.toStringTag,{value:"Module"})),ad=Ur(sd);var le=fe&&fe.__awaiter||function(t,e,n,o){function r(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(g){try{h(o.next(g))}catch(l){c(l)}}function u(g){try{h(o.throw(g))}catch(l){c(l)}}function h(g){g.done?i(g.value):r(g.value).then(d,u)}h((o=o.apply(t,e||[])).next())})};Object.defineProperty(jn,"__esModule",{value:!0});const rn=et,Le=$n,dd=S,ud=Fe,{TransportStatusError:Mn,StatusCodes:Fn}=ad;class ld{constructor(e,n="HIVE"){this.CLA=212,this.INS_GET_PUBLIC_KEY=2,this.INS_SIGN_TRANSACTION=4,this.INS_GET_APP_VERSION=6,this.INS_GET_APP_NAME=8,this.INS_SIGN_HASH=16,this.INS_GET_SETTINGS=18,this.INS_SIGN_MESSAGE=20,this.P1_CONFIRM=1,this.P1_NON_CONFIRM=0,this.P2_NO_CHAINCODE=0,this.P1_FIRST_CHUNK=0,this.P1_SUBSEQUENT_CHUNK=128,this.P2_LAST_CHUNK=0,this.P2_WILL_BE_MORE=128,this.chunkMaxSize=200,this.exchangeData=(o,r,i)=>le(this,void 0,void 0,function*(){const c=[];let d=0,u=null;for(;d!==o.length;){o.length-d>this.chunkMaxSize?u=o.slice(d,d+this.chunkMaxSize):u=o.slice(d);const g=this.generateSignApdu(this.CLA,i,d===0?this.P1_FIRST_CHUNK:this.P1_SUBSEQUENT_CHUNK,d+u.length===o.length?this.P2_LAST_CHUNK:this.P2_WILL_BE_MORE,r,d,u);d+=u.length;const l=yield this.transport.exchange(g),m=l.readUInt16BE(l.length-2);if(m!==Fn.OK)throw new Mn(m);c.push(l)}return c[c.length-1].toString("hex").slice(0,-4)}),this.generateSignApdu=(o,r,i,c,d,u,h)=>{const g=new rn.Path(d),l=u===0?g.size*4+1+h.length:h.length;return u===0?Buffer.concat([Buffer.from([o,r,i,c]),Buffer.from([l]),g.encode(),h]):Buffer.concat([Buffer.from([o,r,i,c]),Buffer.from([l]),h])},this.transport=e,e.decorateAppAPIMethods(this,["getPublicKey","signTransaction","getAppVersion","getAppName","signHash","getSettings"],n)}getPublicKey(e,n=!1,o="STM"){return le(this,void 0,void 0,function*(){const r=n?this.P1_CONFIRM:this.P1_NON_CONFIRM,i=new rn.Path(e),c=yield this.transport.send(this.CLA,this.INS_GET_PUBLIC_KEY,r,this.P2_NO_CHAINCODE,i.encode()),d=1+c[0],u=c.slice(d+1,d+1+c[d]).toString("ascii");return`${o}${u.substring(3)}`})}getAppVersion(){return le(this,void 0,void 0,function*(){const e=yield this.transport.send(this.CLA,this.INS_GET_APP_VERSION,0,0);return`${e[0]}.${e[1]}.${e[2]}`})}getSettings(){return le(this,void 0,void 0,function*(){return{hashSignPolicy:(yield this.transport.send(this.CLA,this.INS_GET_SETTINGS,0,0))[0]===1}})}getAppName(){return le(this,void 0,void 0,function*(){return(yield this.transport.send(this.CLA,this.INS_GET_APP_NAME,0,0)).slice(0,-2).toString()})}signTransaction(e,n,o){return le(this,void 0,void 0,function*(){const r=new Le.ParsedTransaction(e,o).encode(),i=yield this.exchangeData(r,n,this.INS_SIGN_TRANSACTION);return Object.assign(Object.assign({},e),{signatures:[i]})})}signMessage(e,n){return le(this,void 0,void 0,function*(){if(e.length>512)throw new Error("Message length should be less than 512 characters");const o=dd.Encoder.encodeString(e);return this.exchangeData(o,n,this.INS_SIGN_MESSAGE)})}signHash(e,n){return le(this,void 0,void 0,function*(){const o=new rn.Path(n),r=Buffer.from(e,"hex"),i=o.size*4+1+r.length,c=Buffer.concat([Buffer.from([this.CLA,this.INS_SIGN_HASH,0,0]),Buffer.from([i]),o.encode(),Buffer.from(e,"hex")]),d=yield this.transport.exchange(c),u=d.readUInt16BE(d.length-2);if(u!==Fn.OK)throw new Mn(u);return d.toString("hex").slice(0,-4)})}static getTransactionDigest(e,n=Le.DEFAULT_CHAIN_ID){return new Le.ParsedTransaction(e,n).digest()}static getTxId(e,n=Le.DEFAULT_CHAIN_ID){return new Le.ParsedTransaction(e,n).id()}static isDisplayableOnDevice(e){const n=["claim_account","create_claimed_account","witness_set_properties","account_update2","remove_proposal","update_proposal","recurrent_transfer"];return e.extensions&&e.extensions.length>0||e.operations&&e.operations.length>1||n.includes(e.operations[0][0])?!1:ud.ParsedOperation.validate(e.operations[0])}}var fd=jn.default=ld;const _d=Object.freeze(Object.defineProperty({__proto__:null,default:fd},Symbol.toStringTag,{value:"Module"}));export{_d as H};
